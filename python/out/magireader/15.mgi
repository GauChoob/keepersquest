
SCRIPT_15_4000::
    StartSong(SONGID_Bogrom)
    LongJump(Script_Underneath_Puzzle1_First)

SCRIPT_15_4006::
    StartSong(SONGID_Bogrom)
    LongJump(Script_Underneath_Puzzle2_First)

SCRIPT_15_400C::
    StartSong(SONGID_Bogrom)
    LongJump(Script_Underneath_Puzzle3_First)

SCRIPT_15_4012::
    StartSong(SONGID_Bogrom)
    LongJump(Script_Underneath_Puzzle4_First)

SCRIPT_15_4018::
    StartSong(SONGID_Bogrom)
    LongJump(Script_Underneath_Puzzle5_First)

Script_Underneath_Puzzle1_Complete::
    OrByte(xBits_Underneath, %00000001)

SCRIPT_15_4022::
    HeroToDoor($08, $20)
    LongJump(SCRIPT_09_4561)

Script_Underneath_Puzzle2_Complete::
    OrByte(xBits_Underneath, %00000010)

SCRIPT_15_402D::
    HeroToDoor($04, $13)
    LongJump(SCRIPT_09_4561)

Script_Underneath_Puzzle3_Complete::
    OrByte(xBits_Underneath, %00000100)

SCRIPT_15_4038::
    HeroToDoor($15, $14)
    LongJump(SCRIPT_09_4561)

Script_Underneath_Puzzle4_SecretComplete::
    LongJumpIf(#(c[xWandCrystalChoice] == c4)#, SCRIPT_15_4054)
    LongJumpIf(#(bitmatch(c[xBits_Secrets_1], c%00000010) == c0)#, Script_Underneath_SecretCompletedFirstTimeCutscene)

SCRIPT_15_4054::
    OrByte(xBits_Underneath, %00100000)
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00001000) == c0)#, Script_Underneath_Puzzle4_Complete)
    OrByte(xBits_Underneath, %00001000)
    HeroToDoor($12, $09)
    LongJump(SCRIPT_09_4561)

Script_Underneath_Puzzle4_Complete::
    LongJumpIf(#bitmatch(c[xBits_Underneath], c%00001000)#, SCRIPT_15_4081)
    OrByte(xBits_Underneath, %00001000)
    HeroToDoor($1F, $13)
    LongJump(Script_Underneath_CompletedFirstTime)

SCRIPT_15_4081::
    HeroToDoor($12, $09)
    LongJump(SCRIPT_09_4561)

Script_Underneath_Puzzle5_Complete::
    LongJumpIf(#bitmatch(c[xBits_Underneath], c%00010000)#, SCRIPT_15_4098)
    OrByte(xBits_Underneath, %00010000)
    LongJump(SCRIPT_09_48E7)

SCRIPT_15_4098::
    HeroToDoor($04, $03)
    LongJump(SCRIPT_09_4561)

Script_Underneath_Puzzle1_First::
    SetByte(xNumberOfAttempts, $01)

Script_Underneath_Puzzle1_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Underneath_Puzzle1)
    LoadHotspots(Hotspot_Underneath_Puzzle1)
    ThatInit(0, AI_Hero, $09, $11, $D0D5, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(3, AI_01_70E1, $06, $11, $D0D2, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_41A7)
    ThatInit(4, AI_01_70E1, $01, $0F, $D0B5, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_41A7)
    ThatInit(5, AI_01_70E1, $06, $0B, $D08A, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_41A7)
    ThatInit(6, AI_01_70E1, $08, $0C, $D098, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_41A7)
    ThatInit(7, AI_01_70E1, $09, $05, $D045, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_41A7)
    ThatInit(8, AI_01_70E1, $03, $06, $D04B, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_41A7)
    ThatStart(0)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(8)
    LoadSingleBitmap($20, BITMAP_19_43E0, $8000, $00)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    AndByte(xBits_Puzzle_Bits1, %11111011)
    AndByte(xBits_Puzzle_Bits1, %11110111)
    AndByte(xBits_Puzzle_Bits1, %11101111)
    AndByte(xBits_Puzzle_Bits1, %11011111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_4159)
    End()

SCRIPT_STARTBUTTON_15_4159::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_15_417E, SCRIPT_15_4022)
    End()

SCRIPT_15_417E::
    ThisSetAnimSingle(Actor_Null)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_Underneath_Puzzle1_Again)

ACTORSCRIPT1_15_41A7::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatScript(0, SCRIPT_15_417E)
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    End()

SCRIPT_15_41B6::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

SCRIPT_15_41CD::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

SCRIPT_15_41E4::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111101)
    End()

SCRIPT_15_41FB::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

SCRIPT_15_4212::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

SCRIPT_15_4229::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

SCRIPT_15_4240::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

SCRIPT_15_4257::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

SCRIPT_15_426E::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

SCRIPT_15_4285::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

Hotspot_Underneath_Puzzle1_0::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_42AD)
    ThatScript(3, SCRIPT_15_41CD)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_42AD::
    End()

Hotspot_Underneath_Puzzle1_1::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_42BF)
    ThatScript(4, SCRIPT_15_41E4)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_42BF::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_42D0)
    ThatScript(3, SCRIPT_15_41CD)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_42D0::
    End()

Hotspot_Underneath_Puzzle1_2::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_42E2)
    ThatScript(4, SCRIPT_15_41E4)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_42E2::
    End()

Hotspot_Underneath_Puzzle1_3::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_42F4)
    ThatScript(3, SCRIPT_15_41B6)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_42F4::
    End()

Hotspot_Underneath_Puzzle1_4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_4306)
    ThatScript(5, SCRIPT_15_41FB)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_4306::
    End()

Hotspot_Underneath_Puzzle1_5::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_4318)
    ThatScript(5, SCRIPT_15_4212)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_4318::
    End()

Hotspot_Underneath_Puzzle1_6::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_432A)
    ThatScript(6, SCRIPT_15_4229)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_432A::
    End()

Hotspot_Underneath_Puzzle1_7::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_433C)
    ThatScript(7, SCRIPT_15_4257)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_433C::
    End()

Hotspot_Underneath_Puzzle1_8::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_434E)
    ThatScript(7, SCRIPT_15_4240)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_434E::
    End()

Hotspot_Underneath_Puzzle1_9::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_4360)
    ThatScript(8, SCRIPT_15_426E)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_4360::
    End()

Hotspot_Underneath_Puzzle1_A::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00000001) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle1_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00000001) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle1_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xUnderneath_Puzzle1_HighScore])#, .HighscoreNew)
    FormatChar(xUnderneath_Puzzle1_HighScore)
    LongJumpIf(#(c[xUnderneath_Puzzle1_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle1_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle1_Complete)

.HighscoreNew::
    FormatChar(xUnderneath_Puzzle1_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xUnderneath_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle1_Complete)

Hotspot_Underneath_Puzzle1_B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_44EC)
    ThatScript(8, SCRIPT_15_4285)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_44EC::
    End()

Hotspot_Underneath_Puzzle1_C::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_44FE)
    ThatScript(7, SCRIPT_15_4240)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_44FE::
    End()

Script_Underneath_Puzzle2_First::
    SetByte(xNumberOfAttempts, $01)

Script_Underneath_Puzzle2_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Underneath_Puzzle2)
    LoadHotspots(Hotspot_Underneath_Puzzle2)
    ThatInit(0, AI_Hero, $01, $08, $D059, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_01_70E1, $02, $01, $D00D, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_45CD)
    ThatInit(3, AI_01_70E1, $04, $04, $D030, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_45CD)
    ThatInit(4, AI_01_70E1, $03, $05, $D03A, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_45CD)
    ThatInit(5, AI_01_70E1, $03, $06, $D045, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_45CD)
    ThatInit(6, AI_01_70E1, $03, $07, $D050, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_45CD)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    LoadSingleBitmap($20, BITMAP_19_43E0, $8000, $00)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    AndByte(xBits_Puzzle_Bits1, %11111011)
    AndByte(xBits_Puzzle_Bits1, %11110111)
    AndByte(xBits_Puzzle_Bits1, %11101111)
    SetByte(xTrainingRoom_TimesAround, $00)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_45A8)
    End()

SCRIPT_STARTBUTTON_15_45A8::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_15_45DC, SCRIPT_15_402D)
    End()

ACTORSCRIPT1_15_45CD::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatDelete(0)
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    LongJump(SCRIPT_15_45DC)

SCRIPT_15_45DC::
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_Underneath_Puzzle2_Again)

Hotspot_Underneath_Puzzle2_0::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_4612)
    ThatScript(2, ACTORSCRIPT0_15_4914)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_4612::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_4623)
    ThatScript(6, ACTORSCRIPT0_15_49B5)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_4623::
    End()

Hotspot_Underneath_Puzzle2_1::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_4635)
    ThatScript(2, ACTORSCRIPT0_15_4914)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_4635::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_4646)
    ThatScript(5, ACTORSCRIPT0_15_4970)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_4646::
    End()

Hotspot_Underneath_Puzzle2_2::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_4658)
    ThatScript(2, ACTORSCRIPT0_15_4914)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_4658::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_4669)
    ThatScript(4, ACTORSCRIPT0_15_4942)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_4669::
    End()

Hotspot_Underneath_Puzzle2_3::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_467B)
    ThatScript(2, ACTORSCRIPT0_15_4914)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_467B::
    End()

Hotspot_Underneath_Puzzle2_4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_468D)
    ThatScript(6, ACTORSCRIPT0_15_49B5)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_468D::
    End()

Hotspot_Underneath_Puzzle2_5::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_469F)
    ThatScript(5, ACTORSCRIPT0_15_4970)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_469F::
    End()

Hotspot_Underneath_Puzzle2_6::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_46B1)
    ThatScript(4, ACTORSCRIPT0_15_4942)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_46B1::
    End()

Hotspot_Underneath_Puzzle2_7::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_46C3)
    ThatScript(2, ACTORSCRIPT0_15_492B)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_46C3::
    End()

Hotspot_Underneath_Puzzle2_8::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_46D5)
    ThatScript(3, ACTORSCRIPT0_15_49FA)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_46D5::
    End()

Hotspot_Underneath_Puzzle2_9::
    StartSFX0(SFXID_EnemyDie)
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Underneath_Puzzle4)
    LoadHotspots(Hotspot_Underneath_Puzzle4)
    ThatInit(0, AI_Hero, $0C, $07, $D16A, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatStart(0)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_45A8)
    HeroSetCamera()
    PalClearAnim(0, 16, WHITE_A)
    SceneReady()
    PalFadeAnimToBase(2, $20, 0, 16)
    TransplantTile($06, $0A, $D136, COLLID_HS1C, $24)
    End()

Hotspot_Underneath_Puzzle2_A::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_4723)
    ThatScript(4, ACTORSCRIPT0_15_4959)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_4723::
    End()

Hotspot_Underneath_Puzzle2_B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_4735)
    ThatScript(5, ACTORSCRIPT0_15_4987)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_4735::
    End()

Hotspot_Underneath_Puzzle2_C::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_4747)
    ThatScript(6, ACTORSCRIPT0_15_499E)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_4747::
    End()

Hotspot_Underneath_Puzzle2_D::
    End()

Hotspot_Underneath_Puzzle2_E::
    End()

Hotspot_Underneath_Puzzle2_F::
    End()

Hotspot_Underneath_Puzzle2_10::
    End()

Hotspot_Underneath_Puzzle2_11::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_475D)
    ThatScript(2, ACTORSCRIPT0_15_48FD)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_475D::
    End()

Hotspot_Underneath_Puzzle2_12::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00000010) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle2_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00000010) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle2_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xUnderneath_Puzzle2_HighScore])#, .HighscoreNew)
    FormatChar(xUnderneath_Puzzle2_HighScore)
    LongJumpIf(#(c[xUnderneath_Puzzle2_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle2_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle2_Complete)

.HighscoreNew::
    FormatChar(xUnderneath_Puzzle2_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xUnderneath_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle2_Complete)

Hotspot_Underneath_Puzzle2_13::
    End()

Hotspot_Underneath_Puzzle2_14::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_48EA)
    ThatScript(6, ACTORSCRIPT0_15_49CC)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_48EA::
    End()

SCRIPT_15_48EB::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_48FC)
    ThatScript(6, ACTORSCRIPT0_15_49E3)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_48FC::
    End()

ACTORSCRIPT0_15_48FD::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

ACTORSCRIPT0_15_4914::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 56)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 56)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

ACTORSCRIPT0_15_492B::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

ACTORSCRIPT0_15_4942::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111101)
    End()

ACTORSCRIPT0_15_4959::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111101)
    End()

ACTORSCRIPT0_15_4970::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

ACTORSCRIPT0_15_4987::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

ACTORSCRIPT0_15_499E::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

ACTORSCRIPT0_15_49B5::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

ACTORSCRIPT0_15_49CC::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

ACTORSCRIPT0_15_49E3::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

ACTORSCRIPT0_15_49FA::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

Script_Underneath_Puzzle3_First::
    SetByte(xNumberOfAttempts, $01)

Script_Underneath_Puzzle3_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Underneath_Puzzle3)
    LoadHotspots(Hotspot_Underneath_Puzzle3)
    ThatInit(0, AI_Hero, $04, $07, $D06D, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(3, AI_01_70E1, $08, $06, $D062, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4B15)
    ThatInit(4, AI_01_70E1, $01, $05, $D04C, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4B15)
    ThatInit(5, AI_01_70E1, $09, $0C, $D0BD, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4B15)
    ThatInit(6, AI_01_70E1, $0A, $0C, $D0BE, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4B15)
    ThatInit(7, AI_01_70E1, $0B, $02, $D029, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4B15)
    ThatInit(8, AI_01_70E1, $05, $08, $D07D, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4B15)
    ThatStart(0)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(8)
    LoadSingleBitmap($20, BITMAP_19_43E0, $8000, $00)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    AndByte(xBits_Puzzle_Bits1, %11111011)
    AndByte(xBits_Puzzle_Bits1, %11110111)
    AndByte(xBits_Puzzle_Bits1, %11101111)
    AndByte(xBits_Puzzle_Bits1, %11011111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_4ACB)
    End()

SCRIPT_STARTBUTTON_15_4ACB::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_15_4AF0, SCRIPT_15_4038)
    End()

SCRIPT_15_4AF0::
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_Underneath_Puzzle3_Again)

ACTORSCRIPT1_15_4B15::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatDelete(0)
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    LongJump(SCRIPT_15_4AF0)

SCRIPT_15_4B24::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

SCRIPT_15_4B3B::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

SCRIPT_15_4B52::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 64)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 64)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111101)
    End()

SCRIPT_15_4B69::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

SCRIPT_15_4B80::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

SCRIPT_15_4B97::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 80)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 80)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

SCRIPT_15_4BAE::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 64)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 64)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

SCRIPT_15_4BC5::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

Hotspot_Underneath_Puzzle3_0::
    StartSFX0(SFXID_EnemyDie)
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Underneath_Puzzle4)
    LoadHotspots(Hotspot_Underneath_Puzzle4)
    ThatInit(0, AI_Hero, $2D, $05, $D127, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatStart(0)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_4ACB)
    HeroSetCamera()
    PalClearAnim(0, 16, WHITE_A)
    SceneReady()
    PalFadeAnimToBase(2, $20, 0, 16)
    End()

SCRIPT_15_4C11::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle3_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle3_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xUnderneath_Puzzle3_HighScore])#, .HighscoreNew)
    FormatChar(xUnderneath_Puzzle3_HighScore)
    LongJumpIf(#(c[xUnderneath_Puzzle3_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle3_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle3_Complete)

.HighscoreNew::
    FormatChar(xUnderneath_Puzzle3_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xUnderneath_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle3_Complete)

Hotspot_Underneath_Puzzle3_1::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_4D9C)
    ThatScript(3, SCRIPT_15_4B24)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_4D9C::
    End()

Hotspot_Underneath_Puzzle3_2::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_4DAE)
    ThatScript(4, SCRIPT_15_4B52)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_4DAE::
    End()

Hotspot_Underneath_Puzzle3_3::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_4DC0)
    ThatScript(3, SCRIPT_15_4B3B)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_4DC0::
    End()

Hotspot_Underneath_Puzzle3_4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_4DD2)
    ThatScript(5, SCRIPT_15_4B69)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_4DD2::
    End()

Hotspot_Underneath_Puzzle3_5::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_4DE4)
    ThatScript(6, SCRIPT_15_4B80)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_4DE4::
    End()

Hotspot_Underneath_Puzzle3_6::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_4DF6)
    ThatScript(7, SCRIPT_15_4B97)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_4DF6::
    End()

Hotspot_Underneath_Puzzle3_7::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_4E08)
    ThatScript(8, SCRIPT_15_4BAE)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_4E08::
    End()

Hotspot_Underneath_Puzzle3_8::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_4E1A)
    ThatScript(3, SCRIPT_15_4B3B)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_4E1A::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_4E2B)
    ThatScript(8, SCRIPT_15_4BAE)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_4E2B::
    End()

Hotspot_Underneath_Puzzle3_9::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_4E3D)
    ThatScript(5, SCRIPT_15_4B69)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_4E3D::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_4E4E)
    ThatScript(8, SCRIPT_15_4BAE)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_4E4E::
    End()

Hotspot_Underneath_Puzzle3_A::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_4E60)
    ThatScript(6, SCRIPT_15_4B80)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_4E60::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_4E71)
    ThatScript(8, SCRIPT_15_4BAE)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_4E71::
    End()

Hotspot_Underneath_Puzzle3_B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_4E83)
    ThatScript(7, SCRIPT_15_4B97)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_4E83::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_4E94)
    ThatScript(8, SCRIPT_15_4BAE)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_4E94::
    End()

Hotspot_Underneath_Puzzle3_C::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_4EA6)
    ThatScript(8, SCRIPT_15_4BC5)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_4EA6::
    End()

Script_Underneath_Puzzle4_First::
    SetByte(xNumberOfAttempts, $01)

Script_Underneath_Puzzle4_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Underneath_Puzzle4)
    LoadHotspots(Hotspot_Underneath_Puzzle4)
    ThatInit(0, AI_Hero, $0D, $15, $D427, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(3, AI_01_70E1, $0C, $12, $D390, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatInit(4, AI_01_70E1, $0E, $11, $D360, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatInit(5, AI_01_70E1, $13, $10, $D333, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatInit(6, AI_01_70E1, $13, $14, $D3FB, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatInit(7, AI_01_70E1, $15, $0F, $D303, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatInit(8, AI_01_70E1, $1B, $11, $D36D, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatInit(9, AI_01_70E1, $19, $16, $D465, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatInit(10, AI_01_70E1, $19, $17, $D497, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatInit(11, AI_01_70E1, $18, $19, $D4FA, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_4FF2)
    ThatStart(0)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(8)
    ThatStart(9)
    ThatStart(10)
    ThatStart(11)
    LoadSingleBitmap($20, BITMAP_19_43E0, $8000, $00)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    AndByte(xBits_Puzzle_Bits1, %11111011)
    AndByte(xBits_Puzzle_Bits1, %11110111)
    AndByte(xBits_Puzzle_Bits1, %11101111)
    AndByte(xBits_Puzzle_Bits1, %11011111)
    AndByte(xBits_Puzzle_Bits1, %10111111)
    AndByte(xBits_Puzzle_Bits1, %01111111)
    AndByte(xBits_Puzzle_Bits2, %11111110)
    SetByte(xTrainingRoom_TimesAround, $00)
    SetByte(xDeprecated, $00)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_4FA8)
    End()

SCRIPT_STARTBUTTON_15_4FA8::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_15_4FCD, SCRIPT_15_4081)
    End()

SCRIPT_15_4FCD::
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_Underneath_Puzzle4_Again)

ACTORSCRIPT1_15_4FF2::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatDelete(0)
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    LongJump(SCRIPT_15_4FCD)

SCRIPT_15_5001::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 72)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 72)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

SCRIPT_15_5018::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 56)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 56)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111101)
    End()

SCRIPT_15_502F::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111101)
    End()

SCRIPT_15_5046::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

SCRIPT_15_505D::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

SCRIPT_15_5074::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

SCRIPT_15_508B::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

SCRIPT_15_50A2::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

SCRIPT_15_50B9::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

SCRIPT_15_50D0::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

SCRIPT_15_50E7::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

SCRIPT_15_50FE::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %10111111)
    End()

SCRIPT_15_5115::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %01111111)
    End()

SCRIPT_15_512C::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits2, %11111110)
    End()

Hotspot_Underneath_Puzzle4_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle4_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle4_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xUnderneath_Puzzle4_HighScore])#, .HighscoreNew)
    FormatChar(xUnderneath_Puzzle4_HighScore)
    LongJumpIf(#(c[xUnderneath_Puzzle4_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle4_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle4_Complete)

.HighscoreNew::
    FormatChar(xUnderneath_Puzzle4_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xUnderneath_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle4_Complete)

Hotspot_Underneath_Puzzle4_1::
    LongJump(SCRIPT_15_4C11)

Hotspot_Underneath_Puzzle4_1C::
    LongJump(Hotspot_Underneath_Puzzle2_12)

Hotspot_Underneath_Puzzle4_2::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_52D6)
    ThatScript(4, SCRIPT_15_5018)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_52D6::
    End()

Hotspot_Underneath_Puzzle4_3::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_52E8)
    ThatScript(4, SCRIPT_15_5018)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_52E8::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_52F9)
    ThatScript(6, SCRIPT_15_5074)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_52F9::
    End()

Hotspot_Underneath_Puzzle4_4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_530B)
    ThatScript(3, SCRIPT_15_5001)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_530B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_531C)
    ThatScript(4, SCRIPT_15_5018)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_531C::
    End()

Hotspot_Underneath_Puzzle4_5::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_532E)
    ThatScript(6, SCRIPT_15_5074)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_532E::
    End()

Hotspot_Underneath_Puzzle4_6::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_5340)
    ThatScript(3, SCRIPT_15_5001)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_5340::
    End()

Hotspot_Underneath_Puzzle4_7::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_5352)
    ThatScript(3, SCRIPT_15_5001)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_5352::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_5363)
    ThatScript(5, SCRIPT_15_505D)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_5363::
    End()

Hotspot_Underneath_Puzzle4_8::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_5375)
    ThatScript(4, SCRIPT_15_502F)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_5375::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_5386)
    ThatScript(5, SCRIPT_15_505D)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_5386::
    End()

Hotspot_Underneath_Puzzle4_9::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_5398)
    ThatScript(7, SCRIPT_15_50B9)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_5398::
    End()

Hotspot_Underneath_Puzzle4_A::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_53AA)
    ThatScript(7, SCRIPT_15_50B9)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_53AA::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_53BB)
    ThatScript(8, SCRIPT_15_50D0)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_53BB::
    End()

Hotspot_Underneath_Puzzle4_B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_53CD)
    ThatScript(4, SCRIPT_15_502F)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_53CD::
    End()

Hotspot_Underneath_Puzzle4_C::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_53DF)
    ThatScript(5, SCRIPT_15_5046)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_53DF::
    End()

Hotspot_Underneath_Puzzle4_D::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_53F1)
    ThatScript(7, SCRIPT_15_50A2)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_53F1::
    End()

Hotspot_Underneath_Puzzle4_E::
    StartSFX0(SFXID_EnemyDie)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatInit(0, Call_001_4AF8, $17, $05, $D111, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    PalClearAnim(0, 16, WHITE_A)
    CameraSeekActor(RAM_00_C189, 4)
    PalRefresh(0, 16)
    ThatAI(0, AI_Hero)
    SetByte(wScript_StartButtonDisabled, $00)
    End()

Hotspot_Underneath_Puzzle4_F::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_542B)
    ThatScript(8, SCRIPT_15_50E7)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_542B::
    End()

Hotspot_Underneath_Puzzle4_10::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_543D)
    ThatScript(8, SCRIPT_15_50D0)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_543D::
    End()

Hotspot_Underneath_Puzzle4_11::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_544F)
    ThatScript(6, SCRIPT_15_508B)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_544F::
    End()

Hotspot_Underneath_Puzzle4_12::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_5461)
    ThatScript(6, SCRIPT_15_508B)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_5461::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_5472)
    ThatScript(9, SCRIPT_15_50FE)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_5472::
    End()

Hotspot_Underneath_Puzzle4_13::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_5484)
    ThatScript(6, SCRIPT_15_508B)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_5484::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%10000000)#, SCRIPT_15_5495)
    ThatScript(10, SCRIPT_15_5115)
    OrByte(xBits_Puzzle_Bits1, %10000000)

SCRIPT_15_5495::
    End()

Hotspot_Underneath_Puzzle4_14::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_54A7)
    ThatScript(9, SCRIPT_15_50FE)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_54A7::
    End()

Hotspot_Underneath_Puzzle4_15::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%10000000)#, SCRIPT_15_54B9)
    ThatScript(10, SCRIPT_15_5115)
    OrByte(xBits_Puzzle_Bits1, %10000000)

SCRIPT_15_54B9::
    End()

Hotspot_Underneath_Puzzle4_16::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000001)#, SCRIPT_15_54CB)
    ThatScript(11, SCRIPT_15_512C)
    OrByte(xBits_Puzzle_Bits2, %00000001)

SCRIPT_15_54CB::
    End()

Hotspot_Underneath_Puzzle4_17::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%10000000)#, SCRIPT_15_54DD)
    ThatScript(10, SCRIPT_15_5115)
    OrByte(xBits_Puzzle_Bits1, %10000000)

SCRIPT_15_54DD::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000001)#, SCRIPT_15_54EE)
    ThatScript(11, SCRIPT_15_512C)
    OrByte(xBits_Puzzle_Bits2, %00000001)

SCRIPT_15_54EE::
    End()

Hotspot_Underneath_Puzzle4_18::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_5500)
    ThatScript(9, SCRIPT_15_50FE)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_5500::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000001)#, SCRIPT_15_5511)
    ThatScript(11, SCRIPT_15_512C)
    OrByte(xBits_Puzzle_Bits2, %00000001)

SCRIPT_15_5511::
    End()

Hotspot_Underneath_Puzzle4_19::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000001)#, SCRIPT_15_5523)
    ThatScript(11, SCRIPT_15_512C)
    OrByte(xBits_Puzzle_Bits2, %00000001)

SCRIPT_15_5523::
    End()

Hotspot_Underneath_Puzzle4_1A::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#(bitmatch(c[xBits_Secrets_1], c%00000010) == c0)#, SCRIPT_15_5537)
    ThatDelete(0)

SCRIPT_15_5537::
    Write("You found‚≠ça SECRET!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle4_SecretComplete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle4_SecretComplete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xUnderneath_Puzzle4_HighScore])#, .HighscoreNew)
    FormatChar(xUnderneath_Puzzle4_HighScore)
    LongJumpIf(#(c[xUnderneath_Puzzle4_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle4_SecretComplete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle4_SecretComplete)

.HighscoreNew::
    FormatChar(xUnderneath_Puzzle4_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xUnderneath_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle4_SecretComplete)

Hotspot_Underneath_Puzzle4_1B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_56BA)
    ThatScript(7, SCRIPT_15_50B9)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_56BA::
    End()

Script_Underneath_Puzzle5_First::
    SetByte(xNumberOfAttempts, $01)

Script_Underneath_Puzzle5_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Underneath_Puzzle5)
    LoadHotspots(Hotspot_Underneath_Puzzle5)
    ThatInit(0, AI_Hero, $01, $12, $D1C3, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(3, AI_01_70E1, $05, $11, $D1AE, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(4, AI_01_70E1, $0E, $16, $D234, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(5, AI_01_70E1, $0F, $15, $D21C, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(6, AI_01_70E1, $13, $0B, $D126, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(7, AI_01_70E1, $14, $0C, $D140, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(8, AI_01_70E1, $15, $0D, $D15A, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(9, AI_01_70E1, $16, $0E, $D174, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(10, AI_01_70E1, $14, $05, $D091, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(11, AI_01_70E1, $10, $06, $D0A6, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(18, AI_01_70E1, $10, $04, $D074, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatInit(19, AI_01_70E1, $0C, $05, $D089, $00, ACTORSCRIPT0_11_75F4, ACTORSCRIPT1_15_5828)
    ThatStart(0)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(8)
    ThatStart(9)
    ThatStart(10)
    ThatStart(11)
    ThatStart(18)
    ThatStart(19)
    LoadSingleBitmap($20, BITMAP_19_43E0, $8000, $00)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    AndByte(xBits_Puzzle_Bits1, %11111011)
    AndByte(xBits_Puzzle_Bits1, %11110111)
    AndByte(xBits_Puzzle_Bits1, %11101111)
    AndByte(xBits_Puzzle_Bits1, %11011111)
    AndByte(xBits_Puzzle_Bits1, %10111111)
    AndByte(xBits_Puzzle_Bits1, %01111111)
    AndByte(xBits_Puzzle_Bits2, %11111110)
    AndByte(xBits_Puzzle_Bits2, %11111101)
    AndByte(xBits_Puzzle_Bits2, %11111011)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_57DE)
    End()

SCRIPT_STARTBUTTON_15_57DE::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_15_5803, SCRIPT_15_4098)
    End()

SCRIPT_15_5803::
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_Underneath_Puzzle5_Again)

ACTORSCRIPT1_15_5828::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatDelete(0)
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    LongJump(SCRIPT_15_5803)

SCRIPT_15_5837::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

SCRIPT_15_584E::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

SCRIPT_15_5865::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111110)
    End()

SCRIPT_15_587C::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 32)
        ScriptDelay(SCRIPT_11_764E, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111101)
    End()

SCRIPT_15_5893::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111101)
    End()

SCRIPT_15_58AA::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

SCRIPT_15_58C1::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11111011)
    End()

SCRIPT_15_58D8::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

SCRIPT_15_58EF::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

SCRIPT_15_5906::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

SCRIPT_15_591D::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 48)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11101111)
    End()

SCRIPT_15_5934::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 16)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

SCRIPT_15_594B::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 32)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

SCRIPT_15_5962::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %11011111)
    End()

SCRIPT_15_5979::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %10111111)
    End()

SCRIPT_15_5990::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_76C3, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_769C, 8)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %10111111)
    End()

SCRIPT_15_59A7::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_769C, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %10111111)
    End()

SCRIPT_15_59BE::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits1, %01111111)
    End()

SCRIPT_15_59D5::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits2, %11111110)
    End()

SCRIPT_15_59EC::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits2, %11111110)
    End()

SCRIPT_15_5A03::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits2, %11111101)
    End()

SCRIPT_15_5A1A::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits2, %11111101)
    End()

SCRIPT_15_5A31::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_764E, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    AndByte(xBits_Puzzle_Bits2, %11111011)
    End()

Hotspot_Underneath_Puzzle5_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00010000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle5_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Underneath], c%00010000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xUnderneath_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle5_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xUnderneath_Puzzle5_HighScore])#, .HighscoreNew)
    FormatChar(xUnderneath_Puzzle5_HighScore)
    LongJumpIf(#(c[xUnderneath_Puzzle5_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle5_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Underneath_Puzzle5_Complete)

.HighscoreNew::
    FormatChar(xUnderneath_Puzzle5_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xUnderneath_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Underneath_Puzzle5_Complete)

Hotspot_Underneath_Puzzle5_1::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_5BD3)
    ThatScript(3, SCRIPT_15_5837)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_5BD3::
    End()

Hotspot_Underneath_Puzzle5_2::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_5BE5)
    ThatScript(3, SCRIPT_15_5865)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_5BE5::
    End()

Hotspot_Underneath_Puzzle5_3::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000001)#, SCRIPT_15_5BF7)
    ThatScript(3, SCRIPT_15_584E)
    OrByte(xBits_Puzzle_Bits1, %00000001)

SCRIPT_15_5BF7::
    End()

Hotspot_Underneath_Puzzle5_4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_5C09)
    ThatScript(5, SCRIPT_15_58C1)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_5C09::
    End()

Hotspot_Underneath_Puzzle5_5::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_5C1B)
    ThatScript(4, SCRIPT_15_587C)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_5C1B::
    End()

Hotspot_Underneath_Puzzle5_6::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000010)#, SCRIPT_15_5C2D)
    ThatScript(4, SCRIPT_15_5893)
    OrByte(xBits_Puzzle_Bits1, %00000010)

SCRIPT_15_5C2D::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_5C3E)
    ThatScript(5, SCRIPT_15_58C1)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_5C3E::
    End()

Hotspot_Underneath_Puzzle5_7::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00000100)#, SCRIPT_15_5C50)
    ThatScript(5, SCRIPT_15_58AA)
    OrByte(xBits_Puzzle_Bits1, %00000100)

SCRIPT_15_5C50::
    End()

Hotspot_Underneath_Puzzle5_8::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_5C62)
    ThatScript(6, SCRIPT_15_58D8)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_5C62::
    End()

Hotspot_Underneath_Puzzle5_9::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_5C74)
    ThatScript(6, SCRIPT_15_58EF)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_5C74::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_5C85)
    ThatScript(7, SCRIPT_15_591D)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_5C85::
    End()

Hotspot_Underneath_Puzzle5_A::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_5C97)
    ThatScript(7, SCRIPT_15_591D)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_5C97::
    End()

Hotspot_Underneath_Puzzle5_B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_5CA9)
    ThatScript(7, SCRIPT_15_5906)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_5CA9::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_5CBA)
    ThatScript(8, SCRIPT_15_594B)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_5CBA::
    End()

Hotspot_Underneath_Puzzle5_C::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_5CCC)
    ThatScript(6, SCRIPT_15_58EF)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_5CCC::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_5CDD)
    ThatScript(8, SCRIPT_15_594B)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_5CDD::
    End()

Hotspot_Underneath_Puzzle5_D::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_5CEF)
    ThatScript(8, SCRIPT_15_5934)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_5CEF::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_5D00)
    ThatScript(9, SCRIPT_15_5979)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_5D00::
    End()

Hotspot_Underneath_Puzzle5_E::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_5D12)
    ThatScript(9, SCRIPT_15_5979)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_5D12::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_5D23)
    ThatScript(7, SCRIPT_15_5906)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_5D23::
    End()

Hotspot_Underneath_Puzzle5_F::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_5D35)
    ThatScript(9, SCRIPT_15_5979)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_5D35::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_5D46)
    ThatScript(6, SCRIPT_15_58EF)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_5D46::
    End()

Hotspot_Underneath_Puzzle5_10::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_5D58)
    ThatScript(9, SCRIPT_15_5990)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_5D58::
    End()

Hotspot_Underneath_Puzzle5_11::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_5D6A)
    ThatScript(8, SCRIPT_15_5934)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_5D6A::
    End()

Hotspot_Underneath_Puzzle5_12::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00010000)#, SCRIPT_15_5D7C)
    ThatScript(7, SCRIPT_15_5906)
    OrByte(xBits_Puzzle_Bits1, %00010000)

SCRIPT_15_5D7C::
    End()

Hotspot_Underneath_Puzzle5_13::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00001000)#, SCRIPT_15_5D8E)
    ThatScript(6, SCRIPT_15_58EF)
    OrByte(xBits_Puzzle_Bits1, %00001000)

SCRIPT_15_5D8E::
    End()

Hotspot_Underneath_Puzzle5_14::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_5DA0)
    ThatScript(9, SCRIPT_15_59A7)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_5DA0::
    End()

Hotspot_Underneath_Puzzle5_15::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%10000000)#, SCRIPT_15_5DB2)
    ThatScript(10, SCRIPT_15_59BE)
    OrByte(xBits_Puzzle_Bits1, %10000000)

SCRIPT_15_5DB2::
    End()

Hotspot_Underneath_Puzzle5_16::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000010)#, SCRIPT_15_5DC4)
    ThatScript(18, SCRIPT_15_5A03)
    OrByte(xBits_Puzzle_Bits2, %00000010)

SCRIPT_15_5DC4::
    End()

Hotspot_Underneath_Puzzle5_17::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000001)#, SCRIPT_15_5DD6)
    ThatScript(11, SCRIPT_15_59EC)
    OrByte(xBits_Puzzle_Bits2, %00000001)

SCRIPT_15_5DD6::
    End()

Hotspot_Underneath_Puzzle5_18::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000010)#, SCRIPT_15_5DE8)
    ThatScript(18, SCRIPT_15_5A1A)
    OrByte(xBits_Puzzle_Bits2, %00000010)

SCRIPT_15_5DE8::
    End()

Hotspot_Underneath_Puzzle5_19::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000100)#, SCRIPT_15_5DFA)
    ThatScript(19, SCRIPT_15_5A31)
    OrByte(xBits_Puzzle_Bits2, %00000100)

SCRIPT_15_5DFA::
    End()

Hotspot_Underneath_Puzzle5_1A::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits2], c%00000001)#, SCRIPT_15_5E0C)
    ThatScript(11, SCRIPT_15_59D5)
    OrByte(xBits_Puzzle_Bits2, %00000001)

SCRIPT_15_5E0C::
    End()

Hotspot_Underneath_Puzzle5_1B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_5E1E)
    ThatScript(8, SCRIPT_15_5962)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_5E1E::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_15_5E2F)
    ThatScript(9, SCRIPT_15_59A7)
    OrByte(xBits_Puzzle_Bits1, %01000000)

SCRIPT_15_5E2F::
    End()

Hotspot_Underneath_Puzzle5_1C::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_15_5E41)
    ThatScript(8, SCRIPT_15_594B)
    OrByte(xBits_Puzzle_Bits1, %00100000)

SCRIPT_15_5E41::
    End()

SCRIPT_15_5E42::
    StartSong(SONGID_Forest)
    LongJump(Script_Paradwyn_Puzzle1_First)

SCRIPT_15_5E48::
    StartSong(SONGID_Forest)
    LongJump(Script_Paradwyn_Puzzle2_First)

SCRIPT_15_5E4E::
    StartSong(SONGID_Forest)
    LongJump(Script_Paradwyn_Puzzle3_First)

SCRIPT_15_5E54::
    StartSong(SONGID_Forest)
    LongJump(Script_Paradwyn_Puzzle4_First)

SCRIPT_15_5E5A::
    StartSong(SONGID_Forest)
    LongJump(Script_Paradwyn_Puzzle5_First)

Script_Paradwyn_Puzzle1_Complete::
    OrByte(xBits_Paradwyn, %00000001)

SCRIPT_15_5E64::
    HeroToDoor($0B, $03)
    LongJump(SCRIPT_0E_6A67)

Script_Paradwyn_Puzzle2_Complete::
    OrByte(xBits_Paradwyn, %00000010)

SCRIPT_15_5E6F::
    HeroToDoor($18, $06)
    LongJump(SCRIPT_0E_6A67)

Script_Paradwyn_Puzzle3_Complete::
    OrByte(xBits_Paradwyn, %00000100)

SCRIPT_15_5E7A::
    HeroToDoor($11, $0C)
    LongJump(SCRIPT_0E_6A67)

Script_Paradwyn_Puzzle3_SecretComplete::
    LongJumpIf(#bitmatch(c[xBits_Secrets_2], c%00000010)#, SCRIPT_15_5EA3)
    OrByte(xBits_Paradwyn, %00000100)
    OrByte(xBits_Paradwyn, %00100000)
    OrByte(xBits_Secrets_2, %00000010)
    LongJumpIf(#(c[xWandCrystalChoice] == c4)#, Script_Paradwyn_Puzzle3_SecretComplete)
    LongJump(Script_Paradwyn_SecretCompletedFirstTime)

SCRIPT_15_5EA3::
    OrByte(xBits_Paradwyn, %00100000)
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000100) == c0)#, Script_Paradwyn_Puzzle4_Complete)
    OrByte(xBits_Paradwyn, %00000100)
    HeroToDoor($11, $0C)
    LongJump(SCRIPT_0E_6A67)

Script_Paradwyn_Puzzle4_Complete::
    LongJumpIf(#bitmatch(c[xBits_Paradwyn], c%00001000)#, SCRIPT_15_5ED0)
    OrByte(xBits_Paradwyn, %00001000)
    HeroToDoor($09, $14)
    LongJump(Script_Paradwyn_CompletedFirstTime)

SCRIPT_15_5ED0::
    HeroToDoor($09, $14)
    LongJump(SCRIPT_0E_6A67)

Script_Paradwyn_Puzzle5_Complete::
    LongJumpIf(#bitmatch(c[xBits_Paradwyn], c%00010000)#, SCRIPT_15_5EE7)
    OrByte(xBits_Paradwyn, %00010000)
    LongJump(SCRIPT_0E_6B48)

SCRIPT_15_5EE7::
    HeroToDoor($03, $09)
    LongJump(SCRIPT_0E_6A67)

Script_Paradwyn_Puzzle1_First::
    SetByte(xNumberOfAttempts, $01)

Script_Paradwyn_Puzzle1_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Paradwyn_Puzzle1)
    LoadHotspots(Hotspot_Paradwyn_Puzzle1)
    ThatInit(0, AI_Hero, $05, $0D, $D116, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $09, $10, $D159, $00, Actor_Null, ACTORSCRIPT1_15_5FB0)
    ThatInit(3, AI_InvisibleLaser, $10, $0C, $D10C, $00, Actor_Null, ACTORSCRIPT1_15_5FB0)
    ThatInit(4, AI_InvisibleLaser, $09, $07, $D09C, $00, Actor_Null, ACTORSCRIPT1_15_5FB0)
    ThatInit(5, AI_01_70E1, $09, $0B, $D0F0, $00, ACTORSCRIPT0_15_6020, ACTORSCRIPT1_15_6032)
    ThatInit(6, AI_01_70E1, $0D, $0D, $D11E, $00, ACTORSCRIPT0_15_6020, ACTORSCRIPT1_15_6032)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    LoadSingleBitmap($04, BITMAP_19_4330, $8000, $00)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_5F87)
    End()

SCRIPT_STARTBUTTON_15_5F87::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_15_6047, SCRIPT_15_5E64)
    End()

ACTORSCRIPT1_15_5FB0::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_15_5FE0)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_15_5FF0)
        Case(1, SCRIPT_15_5FFC)
        Case(2, SCRIPT_15_6008)
        Case(3, SCRIPT_15_6014)
    }
    End()

ACTORSCRIPT0_15_5FE0::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_15_6047)

SCRIPT_15_5FEA::
    ThatDelete(0)
    LongJump(SCRIPT_15_6047)

SCRIPT_15_5FF0::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_6047)

SCRIPT_15_5FFC::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_6047)

SCRIPT_15_6008::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_6047)

SCRIPT_15_6014::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_6047)

ACTORSCRIPT0_15_6020::
    ThisWaitTile($FE)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00000100)#, Actor_Null)
    ThisDrawTile($00, $00, $00, COLLID_EMPTYBLOCK, $FD)
    ThisDelete()

ACTORSCRIPT1_15_6032::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_15_6041)
    End()

ACTORSCRIPT0_15_6041::
    ThisSetAnimSingle(SCRIPT_14_60E5)
    Delay(16)

SCRIPT_15_6047::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_Paradwyn_Puzzle1_Again)

Hotspot_Paradwyn_Puzzle1_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000001) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle1_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000001) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle1_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xParadwyn_Puzzle1_HighScore])#, .HighscoreNew)
    FormatChar(xParadwyn_Puzzle1_HighScore)
    LongJumpIf(#(c[xParadwyn_Puzzle1_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle1_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle1_Complete)

.HighscoreNew::
    FormatChar(xParadwyn_Puzzle1_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xParadwyn_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle1_Complete)

Hotspot_Paradwyn_Puzzle1_1::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $0B, $0B, $D0F2, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6568)

Hotspot_Paradwyn_Puzzle1_2::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $0B, $12, $D185, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6568)

Hotspot_Paradwyn_Puzzle1_3::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $0C, $0D, $D11D, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6568)

Hotspot_Paradwyn_Puzzle1_4::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $0D, $04, $D061, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6568)

Script_Paradwyn_Puzzle2_First::
    SetByte(xNumberOfAttempts, $01)

Script_Paradwyn_Puzzle2_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Paradwyn_Puzzle2)
    LoadHotspots(Hotspot_Paradwyn_Puzzle2)
    ThatInit(0, AI_Hero, $03, $02, $D01F, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $09, $07, $D06B, $00, Actor_Null, ACTORSCRIPT1_15_62EF)
    ThatInit(3, AI_InvisibleLaser, $09, $0A, $D095, $00, Actor_Null, ACTORSCRIPT1_15_62EF)
    ThatInit(4, AI_InvisibleLaser, $0C, $0C, $D0B4, $00, Actor_Null, ACTORSCRIPT1_15_62EF)
    ThatInit(5, AI_01_70E1, $01, $02, $D01D, $00, ACTORSCRIPT0_15_635F, ACTORSCRIPT1_15_6371)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    LoadSingleBitmap($04, BITMAP_19_4330, $8000, $00)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_62C6)
    End()

SCRIPT_STARTBUTTON_15_62C6::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_15_6386, SCRIPT_15_5E6F)
    End()

ACTORSCRIPT1_15_62EF::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_15_631F)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_15_632F)
        Case(1, SCRIPT_15_633B)
        Case(2, SCRIPT_15_6347)
        Case(3, SCRIPT_15_6353)
    }
    End()

ACTORSCRIPT0_15_631F::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_15_6386)

SCRIPT_15_6329::
    ThatDelete(0)
    LongJump(SCRIPT_15_6386)

SCRIPT_15_632F::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_6386)

SCRIPT_15_633B::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_6386)

SCRIPT_15_6347::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_6386)

SCRIPT_15_6353::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_6386)

ACTORSCRIPT0_15_635F::
    ThisWaitTile($FE)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00000100)#, Actor_Null)
    ThisDrawTile($00, $00, $00, COLLID_EMPTYBLOCK, $FD)
    ThisDelete()

ACTORSCRIPT1_15_6371::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_15_6380)
    End()

ACTORSCRIPT0_15_6380::
    ThisSetAnimSingle(SCRIPT_14_60E5)
    Delay(16)

SCRIPT_15_6386::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_Paradwyn_Puzzle2_Again)

Hotspot_Paradwyn_Puzzle2_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000010) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle2_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000010) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle2_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xParadwyn_Puzzle2_HighScore])#, .HighscoreNew)
    FormatChar(xParadwyn_Puzzle2_HighScore)
    LongJumpIf(#(c[xParadwyn_Puzzle2_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle2_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle2_Complete)

.HighscoreNew::
    FormatChar(xParadwyn_Puzzle2_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xParadwyn_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle2_Complete)

Hotspot_Paradwyn_Puzzle2_1::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $08, $02, $D024, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6568)

Hotspot_Paradwyn_Puzzle2_2::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $0A, $03, $D034, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6568)

Hotspot_Paradwyn_Puzzle2_3::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $07, $09, $D085, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6568)

SCRIPT_15_6568::
    CameraSeekActor(RAM_00_C189, 4)
    ThatAI(0, AI_Hero)
    ThatScript(0, ACTORSCRIPT0_14_5E57)
    End()

Script_Paradwyn_Puzzle4_First::
    SetByte(xNumberOfAttempts, $01)

Script_Paradwyn_Puzzle4_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Paradwyn_Puzzle4)
    LoadHotspots(Hotspot_Paradwyn_Puzzle4)
    ThatInit(0, AI_Hero, $07, $02, $D029, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $05, $08, $D08D, $00, Actor_Null, ACTORSCRIPT1_15_6649)
    ThatInit(3, AI_InvisibleLaser, $08, $05, $D05D, $00, Actor_Null, ACTORSCRIPT1_15_6649)
    ThatInit(4, AI_InvisibleLaser, $0B, $08, $D093, $00, Actor_Null, ACTORSCRIPT1_15_6649)
    ThatInit(5, AI_InvisibleLaser, $0A, $0C, $D0D6, $00, Actor_Null, ACTORSCRIPT1_15_6649)
    ThatInit(6, AI_01_70E1, $07, $05, $D05C, $00, ACTORSCRIPT0_15_66B9, ACTORSCRIPT1_15_66CB)
    ThatInit(7, AI_01_70E1, $05, $09, $D09E, $00, ACTORSCRIPT0_15_66B9, ACTORSCRIPT1_15_66CB)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    LoadSingleBitmap($04, BITMAP_19_4330, $8000, $00)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_6620)
    End()

SCRIPT_STARTBUTTON_15_6620::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_15_66E0, SCRIPT_15_5ED0)
    End()

ACTORSCRIPT1_15_6649::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_15_6679)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_15_6689)
        Case(1, SCRIPT_15_6695)
        Case(2, SCRIPT_15_66A1)
        Case(3, SCRIPT_15_66AD)
    }
    End()

ACTORSCRIPT0_15_6679::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_15_66E0)

SCRIPT_15_6683::
    ThatDelete(0)
    LongJump(SCRIPT_15_66E0)

SCRIPT_15_6689::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_66E0)

SCRIPT_15_6695::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_66E0)

SCRIPT_15_66A1::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_66E0)

SCRIPT_15_66AD::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_15_66E0)

ACTORSCRIPT0_15_66B9::
    ThisWaitTile($FE)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00000100)#, Actor_Null)
    ThisDrawTile($00, $00, $00, COLLID_EMPTYBLOCK, $FD)
    ThisDelete()

ACTORSCRIPT1_15_66CB::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_15_66DA)
    End()

ACTORSCRIPT0_15_66DA::
    ThisSetAnimSingle(SCRIPT_14_60E5)
    Delay(16)

SCRIPT_15_66E0::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_Paradwyn_Puzzle4_Again)

Hotspot_Paradwyn_Puzzle4_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle4_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle4_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xParadwyn_Puzzle4_HighScore])#, .HighscoreNew)
    FormatChar(xParadwyn_Puzzle4_HighScore)
    LongJumpIf(#(c[xParadwyn_Puzzle4_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle4_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle4_Complete)

.HighscoreNew::
    FormatChar(xParadwyn_Puzzle4_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xParadwyn_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle4_Complete)

Hotspot_Paradwyn_Puzzle4_1::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $06, $02, $D028, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6901)

Hotspot_Paradwyn_Puzzle4_2::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $02, $08, $D08A, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6901)

Hotspot_Paradwyn_Puzzle4_3::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $03, $05, $D058, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6901)

Hotspot_Paradwyn_Puzzle4_4::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $0A, $02, $D02C, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6901)

Hotspot_Paradwyn_Puzzle4_5::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $0F, $09, $D0A8, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6901)

Hotspot_Paradwyn_Puzzle4_6::
    StartSFX0(SFXID_EnemyDie)
    ThatInit(0, Call_001_4AF8, $08, $0B, $D0C3, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    LongJump(SCRIPT_15_6901)

SCRIPT_15_6901::
    CameraSeekActor(RAM_00_C189, 4)
    ThatAI(0, AI_Hero)
    ThatScript(0, ACTORSCRIPT0_14_5E57)
    End()

Script_Paradwyn_Puzzle3_First::
    SetByte(xNumberOfAttempts, $01)

Script_Paradwyn_Puzzle3_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Paradwyn_Puzzle3)
    LoadHotspots(Hotspot_Paradwyn_Puzzle3)
    LoadTriggers(Trigger_Paradwyn_Puzzle3)
    LoadSolidHotspot(SolidHotspot_Paradwyn_Puzzle3)
    ThatInit(0, AI_Hero, $06, $07, $D164, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, Call_001_4AF8, $16, $2E, $D912, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(3, Call_001_4AF8, $1B, $0E, $D2D7, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(4, Call_001_4AF8, $16, $1B, $D55C, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(5, Call_001_4AF8, $2B, $1F, $D639, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    LoadSingleBitmap($40, BITMAP_0A_7413, $8000, $00)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $05)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    AndByte(xBits_Puzzle_Bits1, %11111011)
    AndByte(xBits_Puzzle_Bits1, %11110111)
    SetByte(xPuzzle_Misc_1, $00)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_69A9)
    End()

SCRIPT_STARTBUTTON_15_69A9::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(Hotspot_Paradwyn_Puzzle3_2, SCRIPT_15_5E7A)
    End()

Hotspot_Paradwyn_Puzzle3_2::
    ThisSetAnimSingle(Actor_Null)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_Paradwyn_Puzzle3_Again)

Hotspot_Paradwyn_Puzzle3_0::
    ThatDelete(0)
    LongJumpIf(#(c[xPuzzle_Misc_1] == c4)#, SCRIPT_15_6B77)
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle3_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle3_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xParadwyn_Puzzle3_HighScore])#, .HighscoreNew)
    FormatChar(xParadwyn_Puzzle3_HighScore)
    LongJumpIf(#(c[xParadwyn_Puzzle3_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle3_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle3_Complete)

.HighscoreNew::
    FormatChar(xParadwyn_Puzzle3_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xParadwyn_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle3_Complete)

SCRIPT_15_6B77::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠ça SECRET!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle3_SecretComplete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle3_SecretComplete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xParadwyn_Puzzle3_HighScore])#, .HighscoreNew)
    FormatChar(xParadwyn_Puzzle3_HighScore)
    LongJumpIf(#(c[xParadwyn_Puzzle3_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle3_SecretComplete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle3_SecretComplete)

.HighscoreNew::
    FormatChar(xParadwyn_Puzzle3_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xParadwyn_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle3_SecretComplete)

Hotspot_Paradwyn_Puzzle3_1::
    StartSFX0(SFXID_EnemyDie)
    ThatDelete(0)
    ThatInit(0, AI_Hero, $06, $06, $D132, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    CameraSeekActor(RAM_00_C189, 8)
    ThatStart(0)
    End()

SCRIPT_15_6D0B::
    VarByteExpr(xPuzzle_Misc_1, #(c[xPuzzle_Misc_1] + c1)#)
    SetScriptScroll(SCRIPT_19_4690)
    WaitEventText(2)
    LongJumpIf(#(c[xPuzzle_Misc_1] != c4)#, SCRIPT_15_6D2A)
    SetScriptScroll(SCRIPT_19_46A7)
    WaitEventText(2)

SCRIPT_15_6D2A::
    End()

Trigger_Paradwyn_Puzzle3_0::
    TriggerOnce(xBits_Puzzle_Bits1[0], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D1B8)
    StartSFX0(SFXID_PhysicalAttack)
    LongJump(SCRIPT_15_6D0B)

Trigger_Paradwyn_Puzzle3_1::
    TriggerOnce(xBits_Puzzle_Bits1[1], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D5EB)
    StartSFX0(SFXID_PhysicalAttack)
    LongJump(SCRIPT_15_6D0B)

Trigger_Paradwyn_Puzzle3_2::
    TriggerOnce(xBits_Puzzle_Bits1[2], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D8D4)
    StartSFX0(SFXID_PhysicalAttack)
    LongJump(SCRIPT_15_6D0B)

Trigger_Paradwyn_Puzzle3_3::
    TriggerOnce(xBits_Puzzle_Bits1[3], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D924)
    StartSFX0(SFXID_PhysicalAttack)
    LongJump(SCRIPT_15_6D0B)

SolidHotspot_Paradwyn_Puzzle3_0::
    StartSFX0(SFXID_Vortex)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, SCRIPT_14_5F41)
    Delay(32)
    ThatScript(0, SCRIPT_14_5F51)
    Delay(64)
    LongJump(Hotspot_Paradwyn_Puzzle3_2)

SCRIPT_15_6D87::
    StartSFX0(SFXID_Earthquake)

SCRIPT_15_6D89::
    ScrollMap() {
        Move(2, 2, 2)
    }
    ScrollMap() {
        Move(2, -2, -2)
    }
    LongJump(SCRIPT_15_6D89)

Script_Paradwyn_Puzzle5_First::
    SetByte(xNumberOfAttempts, $01)

Script_Paradwyn_Puzzle5_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Paradwyn_Puzzle5)
    LoadHotspots(Hotspot_Paradwyn_Puzzle5)
    LoadTriggers(Trigger_Paradwyn_Puzzle5)
    LoadSolidHotspot(SolidHotspot_Paradwyn_Puzzle5)
    LoadMapMask(METAMAP_MASK_2F_628A, COLLMAP_MASK_2A_7FE4)
    ThatInit(0, AI_Hero, $02, $07, $D1C2, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, Call_001_4AF8, $03, $10, $D403, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(3, Call_001_4AF8, $08, $05, $D148, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(4, Call_001_4AF8, $0F, $03, $D0CF, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(5, Call_001_4AF8, $18, $0F, $D3D8, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(6, Call_001_4AF8, $23, $03, $D0E3, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(7, Call_001_4AF8, $22, $10, $D422, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    ThatInit(9, Call_001_4AF8, $31, $0F, $D3F1, $00, ACTORSCRIPT0_11_7476, Actor_RestoreState)
    LoadSingleBitmap($40, BITMAP_0A_7413, $8000, $00)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(9)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $05)
    SetByte(xPuzzle_Misc_1, $03)
    SetByte(xPuzzle_Misc_2, $00)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    AndByte(xBits_Puzzle_Bits1, %11111011)
    AndByte(xBits_Puzzle_Bits1, %11110111)
    AndByte(xBits_Puzzle_Bits1, %11101111)
    AndByte(xBits_Puzzle_Bits1, %11011111)
    AndByte(xBits_Puzzle_Bits3, %11111110)
    AndByte(xBits_Puzzle_Bits3, %11111101)
    OrByte(xBits_Puzzle_Bits3, %00000100)
    OrByte(xBits_Puzzle_Bits3, %00010000)
    OrByte(xBits_Puzzle_Bits3, %00100000)
    OrByte(xBits_Puzzle_Bits3, %01000000)
    AndByte(xBits_Puzzle_Bits3, %01111111)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000001)
    SetStartButtonScript(SCRIPT_STARTBUTTON_15_6E97)
    End()

SCRIPT_STARTBUTTON_15_6E97::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(Hotspot_Paradwyn_Puzzle5_1, SCRIPT_15_5EE7)
    End()

Hotspot_Paradwyn_Puzzle5_1::
    ThisSetAnimSingle(Actor_Null)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_Paradwyn_Puzzle5_Again)

Hotspot_Paradwyn_Puzzle5_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00010000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle5_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Paradwyn], c%00010000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xParadwyn_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle5_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xParadwyn_Puzzle5_HighScore])#, .HighscoreNew)
    FormatChar(xParadwyn_Puzzle5_HighScore)
    LongJumpIf(#(c[xParadwyn_Puzzle5_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle5_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Paradwyn_Puzzle5_Complete)

.HighscoreNew::
    FormatChar(xParadwyn_Puzzle5_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xParadwyn_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Paradwyn_Puzzle5_Complete)

SCRIPT_15_705B::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00000001)#, SCRIPT_15_7074)
    OrByte(xBits_Puzzle_Bits3, %00000001)
    TransplantMapMask($D041, $01, $03, $D04C, $01, $0C)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_7074::
    AndByte(xBits_Puzzle_Bits3, %11111110)
    TransplantMapMask($D042, $01, $03, $D04C, $01, $0C)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_7085::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00000010)#, SCRIPT_15_709E)
    OrByte(xBits_Puzzle_Bits3, %00000010)
    TransplantMapMask($D041, $01, $03, $D3C6, $0F, $06)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_709E::
    AndByte(xBits_Puzzle_Bits3, %11111101)
    TransplantMapMask($D042, $01, $03, $D3C6, $0F, $06)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_70AF::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00000100)#, SCRIPT_15_70C8)
    OrByte(xBits_Puzzle_Bits3, %00000100)
    TransplantMapMask($D041, $01, $03, $D352, $0D, $12)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_70C8::
    AndByte(xBits_Puzzle_Bits3, %11111011)
    TransplantMapMask($D042, $01, $03, $D352, $0D, $12)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_70D9::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00010000)#, SCRIPT_15_70F2)
    OrByte(xBits_Puzzle_Bits3, %00010000)
    TransplantMapMask($D041, $01, $03, $D31F, $0C, $1F)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_70F2::
    AndByte(xBits_Puzzle_Bits3, %11101111)
    TransplantMapMask($D042, $01, $03, $D31F, $0C, $1F)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_7103::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00100000)#, SCRIPT_15_711C)
    OrByte(xBits_Puzzle_Bits3, %00100000)
    TransplantMapMask($D041, $01, $03, $D21F, $08, $1F)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_711C::
    AndByte(xBits_Puzzle_Bits3, %11011111)
    TransplantMapMask($D042, $01, $03, $D21F, $08, $1F)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_712D::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%01000000)#, SCRIPT_15_7146)
    OrByte(xBits_Puzzle_Bits3, %01000000)
    TransplantMapMask($D043, $03, $01, $D1E7, $07, $27)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_7146::
    AndByte(xBits_Puzzle_Bits3, %10111111)
    TransplantMapMask($D083, $03, $01, $D1E7, $07, $27)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_7157::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%10000000)#, SCRIPT_15_7170)
    OrByte(xBits_Puzzle_Bits3, %10000000)
    TransplantMapMask($D043, $03, $01, $D12B, $04, $2B)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_7170::
    AndByte(xBits_Puzzle_Bits3, %01111111)
    TransplantMapMask($D083, $03, $01, $D12B, $04, $2B)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_7181::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00000001)#, SCRIPT_15_719A)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000001)
    TransplantMapMask($D041, $01, $03, $D36E, $0D, $2E)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_719A::
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111110)
    TransplantMapMask($D042, $01, $03, $D36E, $0D, $2E)
    LongJump(SCRIPT_15_71AB)

SCRIPT_15_71AB::
    SetEventText(1)
    End()

Trigger_Paradwyn_Puzzle5_0::
    TriggerOnce(xBits_Puzzle_Bits1[0], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D242)
    StartSFX0(SFXID_PhysicalAttack)
    SetByte(xPuzzle_Misc_2, $01)
    SetScriptScroll(SCRIPT_15_72C9)
    WaitEventText(2)
    SetScriptScroll(SCRIPT_15_70AF)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_712D)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_7181)
    SetByte(xPuzzle_Misc_1, $06)
    LongJump(SCRIPT_TRIGGERALREADYON_19_46DC)

Trigger_Paradwyn_Puzzle5_1::
    TriggerOnce(xBits_Puzzle_Bits1[1], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D40E)
    StartSFX0(SFXID_PhysicalAttack)
    SetByte(xPuzzle_Misc_2, $02)
    SetScriptScroll(SCRIPT_15_72C9)
    WaitEventText(2)
    SetScriptScroll(SCRIPT_15_7085)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_7103)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_7157)
    SetByte(xPuzzle_Misc_1, $01)
    LongJump(SCRIPT_TRIGGERALREADYON_19_46DC)

Trigger_Paradwyn_Puzzle5_2::
    TriggerOnce(xBits_Puzzle_Bits1[2], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D1D8)
    StartSFX0(SFXID_PhysicalAttack)
    SetByte(xPuzzle_Misc_2, $03)
    SetScriptScroll(SCRIPT_15_72C9)
    WaitEventText(2)
    SetScriptScroll(SCRIPT_15_705B)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_7085)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_712D)
    SetByte(xPuzzle_Misc_1, $05)
    LongJump(SCRIPT_TRIGGERALREADYON_19_46DC)

Trigger_Paradwyn_Puzzle5_3::
    TriggerOnce(xBits_Puzzle_Bits1[3], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D2E7)
    StartSFX0(SFXID_PhysicalAttack)
    SetByte(xPuzzle_Misc_2, $04)
    SetScriptScroll(SCRIPT_15_72C9)
    WaitEventText(2)
    SetScriptScroll(SCRIPT_15_705B)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_7085)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_7157)
    SetByte(xPuzzle_Misc_1, $02)
    LongJump(SCRIPT_TRIGGERALREADYON_19_46DC)

Trigger_Paradwyn_Puzzle5_4::
    TriggerOnce(xBits_Puzzle_Bits1[4], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D137)
    StartSFX0(SFXID_PhysicalAttack)
    SetByte(xPuzzle_Misc_2, $05)
    SetScriptScroll(SCRIPT_15_72C9)
    WaitEventText(2)
    SetScriptScroll(SCRIPT_15_70AF)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_70D9)
    WaitEventText(1)
    SetScriptScroll(SCRIPT_15_712D)
    SetByte(xPuzzle_Misc_1, $04)
    LongJump(SCRIPT_TRIGGERALREADYON_19_46DC)

Trigger_Paradwyn_Puzzle5_5::
    TriggerOnce(xBits_Puzzle_Bits1[5], SCRIPT_TRIGGERALREADYON_19_46DC, $E8, $D3B6)
    StartSFX0(SFXID_PhysicalAttack)
    SetByte(xPuzzle_Misc_2, $06)
    SetScriptScroll(SCRIPT_15_7181)
    WaitEventText(1)
    LongJumpIf(#(c[xPuzzle_Misc_1] == not c[xPuzzle_Misc_2])#, SCRIPT_19_46C0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00000100)#, Actor_Null)
    TransplantTile($10, $38, $D438, COLLID_HS00, $DA)
    LongJump(SCRIPT_19_46A7)

SCRIPT_15_72C9::
    LongJumpIf(#(c[xPuzzle_Misc_1] == c[xPuzzle_Misc_2])#, SCRIPT_15_72D8)
    LongJump(SCRIPT_19_46C0)

SCRIPT_15_72D8::
    LongJump(SCRIPT_19_46A7)

SolidHotspot_Paradwyn_Puzzle5_0::
    StartSFX0(SFXID_Vortex)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, SCRIPT_14_5F41)
    Delay(32)
    ThatScript(0, SCRIPT_14_5F51)
    Delay(64)
    LongJump(Hotspot_Paradwyn_Puzzle5_1)