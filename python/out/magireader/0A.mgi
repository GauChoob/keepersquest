
Script_dResh_Puzzle1::
    StartSong(SONGID_Shop)
    LongJump(Script_dResh_Puzzle1_First)

Script_dResh_Puzzle2::
    StartSong(SONGID_Shop)
    LongJump(Script_dResh_Puzzle2_First)

Script_dResh_Puzzle3::
    StartSong(SONGID_Shop)
    LongJump(Script_dResh_Puzzle3_First)

Script_dResh_Puzzle4::
    StartSong(SONGID_Shop)
    LongJump(Script_dResh_Puzzle4_First)

Script_dResh_Puzzle5::
    StartSong(SONGID_Shop)
    LongJump(Script_dResh_Puzzle5_First)

Script_dResh_Puzzle1_Complete::
    OrByte(xBits_dResh, %00000100)

Script_dResh_Puzzle1_Exit::
    HeroToDoor($09, $12)
    LongJump(Script_dResh_Main)

Script_dResh_Puzzle2_Complete::
    OrByte(xBits_dResh, %00001000)
    HeroToDoor($05, $02)
    LongJump(Script_dResh_Main)

Script_dResh_Puzzle2_SecretComplete::
    LongJumpIf(#bitmatch(c[xBits_Secrets_1], c%01000000)#, SCRIPT_0A_4056)
    OrByte(xBits_dResh, %00001000)
    OrByte(xBits_dResh, %10000000)
    OrByte(xBits_Secrets_1, %01000000)
    LongJumpIf(#(c[xWandCrystalChoice] == c4)#, Script_dResh_Puzzle2_SecretComplete)
    LongJump(SCRIPT_0C_6D53)

SCRIPT_0A_4056::
    OrByte(xBits_dResh, %00001000)
    OrByte(xBits_dResh, %10000000)

SCRIPT_0A_405E::
    HeroToDoor($05, $02)
    LongJump(Script_dResh_Main)

Script_dResh_Puzzle3_Complete::
    OrByte(xBits_dResh, %00010000)

SCRIPT_0A_4069::
    HeroToDoor($0C, $0A)
    LongJump(Script_dResh_Main)

Script_dResh_Puzzle4_Complete::
    LongJumpIf(#bitmatch(c[xBits_dResh], c%00100000)#, SCRIPT_0A_4083)
    OrByte(xBits_dResh, %00100000)
    HeroToDoor($17, $02)
    LongJump(Script_dResh_SecretCompletedFirstTime)

SCRIPT_0A_4083::
    HeroToDoor($17, $02)
    LongJump(Script_dResh_Main)

Script_dResh_Puzzle5_Complete::
    LongJumpIf(#bitmatch(c[xBits_dResh], c%01000000)#, SCRIPT_0A_409A)
    OrByte(xBits_dResh, %01000000)
    LongJump(SCRIPT_0C_6C1C)

SCRIPT_0A_409A::
    HeroToDoor($14, $13)
    LongJump(Script_dResh_Main)

Script_dResh_Puzzle1_First::
    SetByte(xNumberOfAttempts, $01)

Script_dResh_Puzzle1_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_dResh_Puzzle1)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_5685)
    LoadHotspots(Hotspot_dResh_Puzzle1)
    ThatInit(0, AI_Hero, $14, $23, $D58C, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $10, $0B, $D1C8, $50, Actor_Null, Interrupt_InvisibleLaser_dResh_Puzzle1)
    ThatInit(3, AI_InvisibleLaser, $10, $0D, $D218, $50, Actor_Null, Interrupt_InvisibleLaser_dResh_Puzzle1)
    ThatInit(4, AI_InvisibleLaser, $18, $0B, $D1D0, $50, Actor_Null, Interrupt_InvisibleLaser_dResh_Puzzle1)
    ThatInit(5, AI_InvisibleLaser, $18, $0D, $D220, $50, Actor_Null, Interrupt_InvisibleLaser_dResh_Puzzle1)
    ThatInit(14, AI_Chicken, $04, $07, $D11C, $54, ACTORSCRIPT0_19_4A7B, ACTORSCRIPT1_19_4A93)
    ThatInit(15, AI_Chicken, $24, $03, $D09C, $54, ACTORSCRIPT0_19_4BE5, ACTORSCRIPT1_19_4BFD)
    ThatInit(16, AI_Chicken, $20, $14, $D340, $54, ACTORSCRIPT0_19_4D4F, ACTORSCRIPT1_19_4D67)
    ThatInit(17, AI_Chicken, $07, $1F, $D4DF, $54, ACTORSCRIPT0_19_4EB9, ACTORSCRIPT1_19_4ED1)
    LoadSingleBitmap($04, BITMAP_19_4330, $8500, $00)
    LoadSingleBitmap($30, BITMAP_19_4030, $8540, $00)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(14)
    ThatStart(15)
    ThatStart(16)
    ThatStart(17)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $05)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(Start_dResh_Puzzle1)
    End()

Start_dResh_Puzzle1::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, .Chicken1Skip)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

.Chicken1Skip::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, .Chicken2Skip)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

.Chicken2Skip::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, .Chicken3Skip)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

.Chicken3Skip::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits5_Chicken_Ormagon], c%00000001)#, .Chicken4Skip)
    ThatDrawTile(17, $00, $00, $00, COLLID_SPACE, $FD)

.Chicken4Skip::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    ThatDelete(17)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_54C5)
    Pass()
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_54C5)
    PalRefresh(0, 16)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(Script_dResh_Puzzle1_Dead, Script_dResh_Puzzle1_Exit)
    End()

Interrupt_InvisibleLaser_dResh_Puzzle1::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, .SalafyFade)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, .Direction1)
        Case(1, .Direction2)
        Case(2, .Direction3)
        Case(3, .Direction4)
    }
    End()

.SalafyFade::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(Script_dResh_Puzzle1_Dead)

SCRIPT_0A_4238::
    ThatDelete(0)
    LongJump(Script_dResh_Puzzle1_Dead)

.Direction1::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(Script_dResh_Puzzle1_Dead)

.Direction2::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(Script_dResh_Puzzle1_Dead)

.Direction3::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(Script_dResh_Puzzle1_Dead)

.Direction4::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(Script_dResh_Puzzle1_Dead)

Script_dResh_Puzzle1_Dead::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_dResh_Puzzle1_Again)

Hotspot_dResh_Puzzle1_0_Finish::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, .Chicken1Skip)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

.Chicken1Skip::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, .Chicken2Skip)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

.Chicken2Skip::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, .Chicken3Skip)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

.Chicken3Skip::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits5_Chicken_Ormagon], c%00000001)#, .Chicken4Skip)
    ThatDrawTile(17, $00, $00, $00, COLLID_SPACE, $FD)

.Chicken4Skip::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    ThatDelete(17)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_54C5)
    PalRefresh(0, 16)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle1_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle1_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xdResh_Puzzle1_HighScore])#, .HighScoreNew)
    FormatChar(xdResh_Puzzle1_HighScore)
    LongJumpIf(#(c[xdResh_Puzzle1_HighScore] == c1)#, .HighScore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_dResh_Puzzle1_Complete)

.HighScore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_dResh_Puzzle1_Complete)

.HighScoreNew::
    FormatChar(xdResh_Puzzle1_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xdResh_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_dResh_Puzzle1_Complete)

Script_dResh_Puzzle3_First::
    SetByte(xNumberOfAttempts, $01)

Script_dResh_Puzzle3_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_dResh_Puzzle3)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_5685)
    LoadHotspots(Hotspot_dResh_Puzzle3)
    ThatInit(0, AI_Hero, $0C, $02, $D03E, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $09, $0A, $D103, $50, Actor_Null, ACTORSCRIPT1_0A_45BC)
    ThatInit(3, AI_InvisibleLaser, $10, $0A, $D10A, $50, Actor_Null, ACTORSCRIPT1_0A_45BC)
    ThatInit(4, AI_InvisibleLaser, $10, $10, $D1A0, $50, Actor_Null, ACTORSCRIPT1_0A_45BC)
    ThatInit(5, AI_InvisibleLaser, $09, $10, $D199, $50, Actor_Null, ACTORSCRIPT1_0A_45BC)
    ThatInit(14, AI_Chicken, $05, $05, $D082, $54, ACTORSCRIPT0_19_4A7B, ACTORSCRIPT1_19_4A93)
    ThatInit(15, AI_Chicken, $13, $05, $D090, $54, ACTORSCRIPT0_19_4BE5, ACTORSCRIPT1_19_4BFD)
    ThatInit(16, AI_Chicken, $13, $13, $D1EE, $54, ACTORSCRIPT0_19_4D4F, ACTORSCRIPT1_19_4D67)
    ThatInit(17, AI_Chicken, $05, $13, $D1E0, $54, ACTORSCRIPT0_19_4EB9, ACTORSCRIPT1_19_4ED1)
    LoadSingleBitmap($04, BITMAP_19_4330, $8500, $00)
    LoadSingleBitmap($30, BITMAP_19_4030, $8540, $00)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(14)
    ThatStart(15)
    ThatStart(16)
    ThatStart(17)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $05)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_4542)
    End()

SCRIPT_STARTBUTTON_0A_4542::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, SCRIPT_0A_4559)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_4559::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, SCRIPT_0A_4569)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_4569::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, SCRIPT_0A_4579)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_4579::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits5_Chicken_Ormagon], c%00000001)#, SCRIPT_0A_4589)
    ThatDrawTile(17, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_4589::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    ThatDelete(17)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_54C5)
    PalRefresh(0, 16)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_462C, SCRIPT_0A_4069)
    End()

ACTORSCRIPT1_0A_45BC::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_0A_45EC)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_0A_45FC)
        Case(1, SCRIPT_0A_4608)
        Case(2, SCRIPT_0A_4614)
        Case(3, SCRIPT_0A_4620)
    }
    End()

ACTORSCRIPT0_0A_45EC::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_0A_462C)

SCRIPT_0A_45F6::
    ThatDelete(0)
    LongJump(SCRIPT_0A_462C)

SCRIPT_0A_45FC::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_462C)

SCRIPT_0A_4608::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_462C)

SCRIPT_0A_4614::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_462C)

SCRIPT_0A_4620::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_462C)

SCRIPT_0A_462C::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_dResh_Puzzle3_Again)

Hotspot_dResh_Puzzle3_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, SCRIPT_0A_466D)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_466D::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, SCRIPT_0A_467D)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_467D::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, SCRIPT_0A_468D)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_468D::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits5_Chicken_Ormagon], c%00000001)#, SCRIPT_0A_469D)
    ThatDrawTile(17, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_469D::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    ThatDelete(17)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_54C5)
    PalRefresh(0, 16)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00010000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle3_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00010000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle3_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xdResh_Puzzle3_HighScore])#, .HighscoreNew)
    FormatChar(xdResh_Puzzle3_HighScore)
    LongJumpIf(#(c[xdResh_Puzzle3_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_dResh_Puzzle3_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_dResh_Puzzle3_Complete)

.HighscoreNew::
    FormatChar(xdResh_Puzzle3_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xdResh_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_dResh_Puzzle3_Complete)

Script_dResh_Puzzle4_First::
    SetByte(xNumberOfAttempts, $01)

Script_dResh_Puzzle4_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_dResh_Puzzle4)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_5685)
    LoadHotspots(Hotspot_dResh_Puzzle4)
    ThatInit(0, AI_Hero, $02, $02, $D034, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $05, $14, $D1F9, $50, Actor_Null, ACTORSCRIPT1_0A_4935)
    ThatInit(3, AI_InvisibleLaser, $10, $12, $D1D2, $50, Actor_Null, ACTORSCRIPT1_0A_4935)
    ThatInit(14, AI_Chicken, $03, $03, $D04E, $54, ACTORSCRIPT0_19_4A7B, ACTORSCRIPT1_19_4A93)
    ThatInit(15, AI_Chicken, $09, $09, $D0EA, $54, ACTORSCRIPT0_19_4BE5, ACTORSCRIPT1_19_4BFD)
    ThatInit(16, AI_Chicken, $10, $0C, $D13C, $54, ACTORSCRIPT0_19_4D4F, ACTORSCRIPT1_19_4D67)
    LoadSingleBitmap($04, BITMAP_19_4330, $8500, $00)
    LoadSingleBitmap($30, BITMAP_19_4030, $8540, $00)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(14)
    ThatStart(15)
    ThatStart(16)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $05)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_48CD)
    End()

SCRIPT_STARTBUTTON_0A_48CD::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, SCRIPT_0A_48E4)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_48E4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, SCRIPT_0A_48F4)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_48F4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, SCRIPT_0A_4904)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_4904::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_54C5)
    PalRefresh(0, 16)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_49A5, SCRIPT_0A_4083)
    End()

ACTORSCRIPT1_0A_4935::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_0A_4965)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_0A_4975)
        Case(1, SCRIPT_0A_4981)
        Case(2, SCRIPT_0A_498D)
        Case(3, SCRIPT_0A_4999)
    }
    End()

ACTORSCRIPT0_0A_4965::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_0A_49A5)

SCRIPT_0A_496F::
    ThatDelete(0)
    LongJump(SCRIPT_0A_49A5)

SCRIPT_0A_4975::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_49A5)

SCRIPT_0A_4981::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_49A5)

SCRIPT_0A_498D::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_49A5)

SCRIPT_0A_4999::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_49A5)

SCRIPT_0A_49A5::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_dResh_Puzzle4_Again)

Hotspot_dResh_Puzzle4_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, SCRIPT_0A_49E6)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_49E6::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, SCRIPT_0A_49F6)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_49F6::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, SCRIPT_0A_4A06)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_4A06::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_700C, PAL_2F_54C5)
    PalRefresh(0, 16)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00100000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle4_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00100000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle4_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xdResh_Puzzle4_HighScore])#, .HighscoreNew)
    FormatChar(xdResh_Puzzle4_HighScore)
    LongJumpIf(#(c[xdResh_Puzzle4_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_dResh_Puzzle4_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_dResh_Puzzle4_Complete)

.HighscoreNew::
    FormatChar(xdResh_Puzzle4_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xdResh_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_dResh_Puzzle4_Complete)

Script_dResh_Puzzle2_First::
    SetByte(xNumberOfAttempts, $01)

Script_dResh_Puzzle2_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_dResh_Puzzle2)
    LoadHotspots(Hotspot_dResh_Puzzle2)
    LoadTriggers(Trigger_dResh_Puzzle2)
    LoadMapMask(METAMAP_MASK_2C_7AA0, COLLMAP_MASK_2D_6F25)
    LoadSingleBitmap($06, BITMAP_19_4390, $8000, $00)
    ThatInit(0, AI_Hero, $13, $25, $D5DB, $00, ACTORSCRIPT0_14_5E74, Actor_RestoreState)
    OverlayInit(RAM_00_C1BF, $96, $23, $00, Actor_ThirstOverlay_Decreasing)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    ThatStart(0)
    ThatStart(2)
    SetByte(xHeroAbilities, $01)
    OrByte(xBits_Puzzle_Bits1, %00100000)
    AndByte(xBits_Puzzle_Bits1, %10111111)
    HeroSetCamera()
    SceneReady()
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_4C01)
    SetByte(xPuzzle_Misc_2, $0E)
    SetByte(xPuzzle_Misc_1, $00)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    AndByte(xBits_Puzzle_Bits1, %11111011)
    AndByte(xBits_Puzzle_Bits1, %11110111)
    End()

SCRIPT_STARTBUTTON_0A_4C01::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(2)
    ThatDelete(0)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_4C2C, SCRIPT_0A_405E)
    End()

SCRIPT_0A_4C2C::
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_dResh_Puzzle2_Again)

Trigger_dResh_Puzzle2_0::
    TriggerOnce(xBits_Puzzle_Bits1[0], SCRIPT_TRIGGERALREADYON_19_46DC, $9F, $D196)
    StartSFX0(SFXID_PhysicalAttack)
    LongJump(SCRIPT_0A_4C8D)

Trigger_dResh_Puzzle2_1::
    TriggerOnce(xBits_Puzzle_Bits1[1], SCRIPT_TRIGGERALREADYON_19_46DC, $9F, $D0E7)
    StartSFX0(SFXID_PhysicalAttack)
    LongJump(SCRIPT_0A_4C8D)

Trigger_dResh_Puzzle2_2::
    TriggerOnce(xBits_Puzzle_Bits1[2], SCRIPT_TRIGGERALREADYON_19_46DC, $9F, $D2F9)
    StartSFX0(SFXID_PhysicalAttack)
    LongJump(SCRIPT_0A_4C8D)

Trigger_dResh_Puzzle2_3::
    TriggerOnce(xBits_Puzzle_Bits1[3], SCRIPT_TRIGGERALREADYON_19_46DC, $9F, $D56A)
    StartSFX0(SFXID_PhysicalAttack)

SCRIPT_0A_4C8D::
    ThatScript(2, Actor_ThirstOverlay_Frozen)
    VarByteExpr(xPuzzle_Misc_1, #(c[xPuzzle_Misc_1] + c1)#)
    SetScriptScroll(SCRIPT_19_4690)
    WaitEventText(2)
    LongJumpIf(#(c[xPuzzle_Misc_1] != c4)#, SCRIPT_0A_4CB1)
    SetScriptScroll(SCRIPT_19_46A7)
    WaitEventText(2)

SCRIPT_0A_4CB1::
    ThatScript(2, Actor_ThirstOverlay_Decreasing)
    End()

Actor_ThirstOverlay_Frozen::
    Switch(#c[xPuzzle_Misc_2]#) {
        Case(1, SCRIPT_0A_4D39)
        Case(2, SCRIPT_0A_4D34)
        Case(3, SCRIPT_0A_4D2F)
        Case(4, SCRIPT_0A_4D2A)
        Case(5, SCRIPT_0A_4D25)
        Case(6, SCRIPT_0A_4D20)
        Case(7, SCRIPT_0A_4D1B)
        Case(8, SCRIPT_0A_4D16)
        Case(9, SCRIPT_0A_4D11)
        Case(10, SCRIPT_0A_4D0C)
        Case(11, SCRIPT_0A_4D07)
        Case(12, SCRIPT_0A_4D02)
        Case(14, SCRIPT_0A_4CFD)
    }

SCRIPT_0A_4CFD::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A35)
    End()

SCRIPT_0A_4D02::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A21)
    End()

SCRIPT_0A_4D07::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A17)
    End()

SCRIPT_0A_4D0C::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A0D)
    End()

SCRIPT_0A_4D11::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A03)
    End()

SCRIPT_0A_4D16::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59F9)
    End()

SCRIPT_0A_4D1B::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59EF)
    End()

SCRIPT_0A_4D20::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59E5)
    End()

SCRIPT_0A_4D25::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59DB)
    End()

SCRIPT_0A_4D2A::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59D1)
    End()

SCRIPT_0A_4D2F::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59C7)
    End()

SCRIPT_0A_4D34::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59BD)
    End()

SCRIPT_0A_4D39::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59B3)
    End()

Actor_ThirstOverlay_Decreasing::
    Switch(#c[xPuzzle_Misc_2]#) {
        Case(1, .Thirst1)
        Case(2, .Thirst2)
        Case(3, .Thirst3)
        Case(4, .Thirst4)
        Case(5, .Thirst5)
        Case(6, .Thirst6)
        Case(7, .Thirst7)
        Case(8, .Thirst8)
        Case(9, .Thirst9)
        Case(10, .Thirst10)
        Case(11, .Thirst11)
        Case(12, .Thirst12)
        Case(14, .Thirst14)
    }

.Thirst14::
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A35, 64)
    }

.Thirst12::
    SetByte(xPuzzle_Misc_2, $0C)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A21, 64)
    }

.Thirst11::
    SetByte(xPuzzle_Misc_2, $0B)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A17, 64)
    }

.Thirst10::
    SetByte(xPuzzle_Misc_2, $0A)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A0D, 64)
    }

.Thirst9::
    SetByte(xPuzzle_Misc_2, $09)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A03, 64)
    }

.Thirst8::
    SetByte(xPuzzle_Misc_2, $08)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59F9, 64)
    }

.Thirst7::
    SetByte(xPuzzle_Misc_2, $07)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59EF, 64)
    }

.Thirst6::
    SetByte(xPuzzle_Misc_2, $06)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59E5, 64)
    }

.Thirst5::
    SetByte(xPuzzle_Misc_2, $05)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59DB, 64)
    }

.Thirst4::
    SetByte(xPuzzle_Misc_2, $04)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59D1, 64)
    }

.Thirst3::
    SetByte(xPuzzle_Misc_2, $03)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59C7, 64)
    }

.Thirst2::
    SetByte(xPuzzle_Misc_2, $02)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59BD, 64)
    }

.Thirst1::
    SetByte(xPuzzle_Misc_2, $01)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59B3, 64)
    }
    LongJumpIf(#c[wSalafyInvincible]#, SCRIPT_0A_4E2E)
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_dResh_Puzzle2_Again)

SCRIPT_0A_4E2E::
    End()

Hotspot_dResh_Puzzle2_3::
    SetByte(xPuzzle_Misc_2, $0E)
    ThatScript(2, Actor_ThirstOverlay_Decreasing)
    End()

Hotspot_dResh_Puzzle2_0::
    ThatScript(2, Actor_ThirstOverlay_Frozen)
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#(c[xPuzzle_Misc_1] == c4)#, SCRIPT_0A_4FC3)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle2_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle2_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xdResh_Puzzle2_HighScore])#, .HighscoreNew)
    FormatChar(xdResh_Puzzle2_HighScore)
    LongJumpIf(#(c[xdResh_Puzzle2_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_dResh_Puzzle2_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_dResh_Puzzle2_Complete)

.HighscoreNew::
    FormatChar(xdResh_Puzzle2_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xdResh_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_dResh_Puzzle2_Complete)

SCRIPT_0A_4FC3::
    ThatDelete(0)
    Write("You found‚≠ça SECRET!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle2_SecretComplete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xdResh_Puzzle2_HighScore])#, .HighscoreNew)
    FormatChar(xdResh_Puzzle2_HighScore)
    LongJumpIf(#(c[xdResh_Puzzle2_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_dResh_Puzzle2_SecretComplete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle2_SecretComplete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_dResh_Puzzle2_SecretComplete)

.HighscoreNew::
    FormatChar(xdResh_Puzzle2_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xdResh_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_dResh_Puzzle2_SecretComplete)

Hotspot_dResh_Puzzle2_1::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%00100000)#, SCRIPT_0A_5174)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_14_5E74)
    OrByte(xBits_Puzzle_Bits1, %00100000)
    AndByte(xBits_Puzzle_Bits1, %10111111)
    ThatScript(2, Actor_ThirstOverlay_Frozen)
    SetScriptScroll(SCRIPT_17_45CC)
    TransplantMapMask($D2AA, $0E, $0E, $D1ED, $0C, $0D)
    Delay(4)
    SetScriptScroll(SCRIPT_0A_5174)
    StartSFX0(SFXID_EarthquakeEnd)
    ThatScript(2, Actor_ThirstOverlay_Decreasing)
    ThatAI(0, AI_Hero)

SCRIPT_0A_5174::
    End()

Hotspot_dResh_Puzzle2_2::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits1], c%01000000)#, SCRIPT_0A_51B1)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_14_5E74)
    OrByte(xBits_Puzzle_Bits1, %01000000)
    AndByte(xBits_Puzzle_Bits1, %11011111)
    ThatScript(2, Actor_ThirstOverlay_Frozen)
    SetScriptScroll(SCRIPT_17_45CC)
    TransplantMapMask($D02A, $0E, $0E, $D1ED, $0C, $0D)
    Delay(4)
    SetScriptScroll(SCRIPT_0A_51B1)
    StartSFX0(SFXID_EarthquakeEnd)
    ThatScript(2, Actor_ThirstOverlay_Decreasing)
    ThatAI(0, AI_Hero)

SCRIPT_0A_51B1::
    End()

Script_dResh_Puzzle5_First::
    SetByte(xNumberOfAttempts, $01)

Script_dResh_Puzzle5_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_dResh_Puzzle5)
    LoadHotspots(Hotspot_dResh_Puzzle5)
    LoadMapMask(METAMAP_MASK_27_5760, COLLMAP_MASK_29_48EB)
    LoadSingleBitmap($06, BITMAP_19_4390, $8000, $00)
    ThatInit(0, AI_Hero, $0D, $23, $D634, $00, ACTORSCRIPT0_14_5E74, Actor_RestoreState)
    OverlayInit(RAM_00_C1BF, $96, $23, $00, SCRIPT_ACTORSCRIPT0_0A_5465)
    ThatStart(0)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    SetByte(xHeroAbilities, $01)
    SetByte(xdResh_Puzzle5_PreviousChunkID, $00)
    SetByte(xPuzzle_Misc_2, $00)
    SetByte(xPuzzle_Misc_1, $00)
    HeroSetCamera()
    SceneReady()
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_520E)
    End()

SCRIPT_STARTBUTTON_0A_520E::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    ThatDelete(2)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_5239, SCRIPT_0A_409A)
    End()

SCRIPT_0A_5239::
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_dResh_Puzzle5_Again)

Hotspot_dResh_Puzzle5_14::
    StartSong(SONGID_GetItem)
    ThatScript(2, ACTORSCRIPT0_0A_53DE)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%01000000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle5_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_dResh], c%01000000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xdResh_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_dResh_Puzzle5_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xdResh_Puzzle5_HighScore])#, .HighscoreNew)
    FormatChar(xdResh_Puzzle5_HighScore)
    LongJumpIf(#(c[xdResh_Puzzle5_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_dResh_Puzzle5_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_dResh_Puzzle5_Complete)

.HighscoreNew::
    FormatChar(xdResh_Puzzle5_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xdResh_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_dResh_Puzzle5_Complete)

ACTORSCRIPT0_0A_53DE::
    Switch(#c[xPuzzle_Misc_1]#) {
        Case(1, SCRIPT_0A_5460)
        Case(2, SCRIPT_0A_545B)
        Case(3, SCRIPT_0A_5456)
        Case(4, SCRIPT_0A_5451)
        Case(5, SCRIPT_0A_544C)
        Case(6, SCRIPT_0A_5447)
        Case(7, SCRIPT_0A_5442)
        Case(8, SCRIPT_0A_543D)
        Case(9, SCRIPT_0A_5438)
        Case(10, SCRIPT_0A_5433)
        Case(11, SCRIPT_0A_542E)
        Case(12, SCRIPT_0A_5429)
        Case(14, SCRIPT_0A_5424)
    }

SCRIPT_0A_5424::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A35)
    End()

SCRIPT_0A_5429::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A21)
    End()

SCRIPT_0A_542E::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A17)
    End()

SCRIPT_0A_5433::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A0D)
    End()

SCRIPT_0A_5438::
    ThisSetAnimSingle(ACTORSCRIPT1_11_5A03)
    End()

SCRIPT_0A_543D::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59F9)
    End()

SCRIPT_0A_5442::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59EF)
    End()

SCRIPT_0A_5447::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59E5)
    End()

SCRIPT_0A_544C::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59DB)
    End()

SCRIPT_0A_5451::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59D1)
    End()

SCRIPT_0A_5456::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59C7)
    End()

SCRIPT_0A_545B::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59BD)
    End()

SCRIPT_0A_5460::
    ThisSetAnimSingle(ACTORSCRIPT1_11_59B3)
    End()

SCRIPT_ACTORSCRIPT0_0A_5465::
    Switch(#c[xPuzzle_Misc_1]#) {
        Case(1, SCRIPT_0A_551F)
        Case(2, SCRIPT_0A_5515)
        Case(3, SCRIPT_0A_550B)
        Case(4, SCRIPT_0A_5501)
        Case(5, SCRIPT_0A_54F7)
        Case(6, SCRIPT_0A_54ED)
        Case(7, SCRIPT_0A_54E3)
        Case(8, SCRIPT_0A_54D9)
        Case(9, SCRIPT_0A_54CF)
        Case(10, SCRIPT_0A_54C5)
        Case(11, SCRIPT_0A_54BB)
        Case(12, SCRIPT_0A_54B1)
        Case(14, SCRIPT_0A_54AB)
    }

SCRIPT_0A_54AB::
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A35, 64)
    }

SCRIPT_0A_54B1::
    SetByte(xPuzzle_Misc_1, $0C)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A21, 64)
    }

SCRIPT_0A_54BB::
    SetByte(xPuzzle_Misc_1, $0B)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A17, 64)
    }

SCRIPT_0A_54C5::
    SetByte(xPuzzle_Misc_1, $0A)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A0D, 64)
    }

SCRIPT_0A_54CF::
    SetByte(xPuzzle_Misc_1, $09)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_5A03, 64)
    }

SCRIPT_0A_54D9::
    SetByte(xPuzzle_Misc_1, $08)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59F9, 64)
    }

SCRIPT_0A_54E3::
    SetByte(xPuzzle_Misc_1, $07)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59EF, 64)
    }

SCRIPT_0A_54ED::
    SetByte(xPuzzle_Misc_1, $06)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59E5, 64)
    }

SCRIPT_0A_54F7::
    SetByte(xPuzzle_Misc_1, $05)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59DB, 64)
    }

SCRIPT_0A_5501::
    SetByte(xPuzzle_Misc_1, $04)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59D1, 64)
    }

SCRIPT_0A_550B::
    SetByte(xPuzzle_Misc_1, $03)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59C7, 64)
    }

SCRIPT_0A_5515::
    SetByte(xPuzzle_Misc_1, $02)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59BD, 64)
    }

SCRIPT_0A_551F::
    SetByte(xPuzzle_Misc_1, $01)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_11_59B3, 64)
    }
    LongJumpIf(#c[wSalafyInvincible]#, SCRIPT_0A_5555)
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJump(Script_dResh_Puzzle5_Again)

SCRIPT_0A_5555::
    End()

Hotspot_dResh_Puzzle5_16::
    SetByte(xPuzzle_Misc_1, $0E)
    ThatScript(2, SCRIPT_ACTORSCRIPT0_0A_5465)
    End()

Hotspot_dResh_Puzzle5_0::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c1)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $01)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_1::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c2)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $02)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_2::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c3)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $03)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_3::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c4)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $04)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_4::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c5)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $05)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_5::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c6)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $06)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_6::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c7)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $07)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_7::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c8)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $08)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_8::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c9)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $09)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_9::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c10)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $0A)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_A::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c11)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $0B)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_B::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c12)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $0C)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_C::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c13)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $0D)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_D::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c14)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $0E)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_E::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c15)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $0F)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_F::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c16)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $10)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_10::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c17)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $11)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_11::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c18)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $12)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_12::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c19)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $13)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_13::
    LongJumpIf(#(c[xPuzzle_Misc_2] == c20)#, Actor_Null)
    VarByteExpr(xdResh_Puzzle5_PreviousChunkID, #(c[xPuzzle_Misc_2] + c0)#)
    SetByte(xPuzzle_Misc_2, $14)
    LongJump(SCRIPT_0A_57B0)

Hotspot_dResh_Puzzle5_15::
    SetByte(xdResh_Puzzle5_PreviousChunkID, $00)
    SetByte(xPuzzle_Misc_2, $11)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_14_5E74)
    SetScriptScroll(SCRIPT_17_45CC)
    TransplantMapMask($D499, $0A, $09, $D46E, $19, $09)
    TransplantMapMask($D65C, $05, $01, $D605, $22, $0B)
    SetScriptScroll(Actor_Null)
    StartSFX0(SFXID_EarthquakeEnd)
    ThatAI(0, AI_Hero)
    ThatStart(2)
    End()

SCRIPT_0A_57B0::
    StartSFX0(SFXID_Earthquake)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_14_5E74)
    ThatScript(2, ACTORSCRIPT0_0A_53DE)
    SetScriptScroll(SCRIPT_17_45CC)
    Switch(#c[xdResh_Puzzle5_PreviousChunkID]#) {
        Case(1, SCRIPT_0A_5831)
        Case(2, SCRIPT_0A_583E)
        Case(3, SCRIPT_0A_584B)
        Case(4, SCRIPT_0A_5858)
        Case(5, SCRIPT_0A_5865)
        Case(6, SCRIPT_0A_5872)
        Case(7, SCRIPT_0A_587F)
        Case(8, SCRIPT_0A_588C)
        Case(9, SCRIPT_0A_5899)
        Case(10, SCRIPT_0A_58A6)
        Case(11, SCRIPT_0A_58B3)
        Case(12, SCRIPT_0A_58C0)
        Case(13, SCRIPT_0A_58CD)
        Case(14, SCRIPT_0A_58DA)
        Case(15, SCRIPT_0A_58E7)
        Case(16, SCRIPT_0A_58F4)
        Case(17, SCRIPT_0A_5908)
        Case(18, SCRIPT_0A_5915)
        Case(19, SCRIPT_0A_5922)
        Case(20, SCRIPT_0A_592F)
    }
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5831::
    TransplantMapMask($D627, $09, $09, $D05C, $02, $02)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_583E::
    TransplantMapMask($D62F, $0A, $0A, $D063, $02, $09)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_584B::
    TransplantMapMask($D636, $0A, $09, $D06B, $02, $11)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5858::
    TransplantMapMask($D63E, $0A, $09, $D073, $02, $19)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5865::
    TransplantMapMask($D646, $09, $09, $D07B, $02, $21)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5872::
    TransplantMapMask($D681, $09, $0A, $D197, $09, $02)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_587F::
    TransplantMapMask($D682, $0A, $0A, $D19E, $09, $09)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_588C::
    TransplantMapMask($D682, $0A, $0A, $D1A6, $09, $11)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5899::
    TransplantMapMask($D682, $0A, $0A, $D1AE, $09, $19)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_58A6::
    TransplantMapMask($D682, $09, $0A, $D1B6, $09, $21)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_58B3::
    TransplantMapMask($D681, $09, $0A, $D2FF, $11, $02)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_58C0::
    TransplantMapMask($D682, $0A, $0A, $D306, $11, $09)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_58CD::
    TransplantMapMask($D682, $0A, $0A, $D30E, $11, $11)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_58DA::
    TransplantMapMask($D682, $0A, $0A, $D316, $11, $19)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_58E7::
    TransplantMapMask($D6A0, $09, $0A, $D31E, $11, $21)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_58F4::
    TransplantMapMask($D681, $09, $09, $D467, $19, $02)
    TransplantTile($21, $02, $DB7B, COLLID_WALL, $2D)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5908::
    TransplantMapMask($D682, $0A, $09, $D46E, $19, $09)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5915::
    TransplantMapMask($D682, $0A, $09, $D476, $19, $11)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5922::
    TransplantMapMask($D682, $0A, $09, $D47E, $19, $19)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_592F::
    TransplantMapMask($D6A0, $09, $09, $D486, $19, $21)
    TransplantTile($21, $29, $DBC3, COLLID_WALL, $2D)
    LongJump(SCRIPT_0A_5943)

SCRIPT_0A_5943::
    StartSFX0(SFXID_Earthquake)
    Switch(#c[xPuzzle_Misc_2]#) {
        Case(1, SCRIPT_0A_59B2)
        Case(2, SCRIPT_0A_59BF)
        Case(3, SCRIPT_0A_59CC)
        Case(4, SCRIPT_0A_59D9)
        Case(5, SCRIPT_0A_59E6)
        Case(6, SCRIPT_0A_59F3)
        Case(7, SCRIPT_0A_5A00)
        Case(8, SCRIPT_0A_5A0D)
        Case(9, SCRIPT_0A_5A1A)
        Case(10, SCRIPT_0A_5A27)
        Case(11, SCRIPT_0A_5A34)
        Case(12, SCRIPT_0A_5A41)
        Case(13, SCRIPT_0A_5A4E)
        Case(14, SCRIPT_0A_5A5B)
        Case(15, SCRIPT_0A_5A68)
        Case(16, SCRIPT_0A_5A75)
        Case(17, SCRIPT_0A_5A82)
        Case(18, SCRIPT_0A_5A8F)
        Case(19, SCRIPT_0A_5A9C)
        Case(20, SCRIPT_0A_5AA9)
    }
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_59B2::
    TransplantMapMask($D087, $09, $09, $D05C, $02, $02)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_59BF::
    TransplantMapMask($D08E, $0A, $0A, $D063, $02, $09)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_59CC::
    TransplantMapMask($D096, $0A, $09, $D06B, $02, $11)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_59D9::
    TransplantMapMask($D09E, $0A, $09, $D073, $02, $19)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_59E6::
    TransplantMapMask($D0A6, $09, $09, $D07B, $02, $21)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_59F3::
    TransplantMapMask($D1C2, $09, $0A, $D197, $09, $02)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A00::
    TransplantMapMask($D1C9, $0A, $0A, $D19E, $09, $09)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A0D::
    TransplantMapMask($D1D1, $0A, $0A, $D1A6, $09, $11)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A1A::
    TransplantMapMask($D1D9, $0A, $0A, $D1AE, $09, $19)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A27::
    TransplantMapMask($D1E1, $09, $0A, $D1B6, $09, $21)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A34::
    TransplantMapMask($D32A, $09, $0A, $D2FF, $11, $02)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A41::
    TransplantMapMask($D331, $0A, $0A, $D306, $11, $09)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A4E::
    TransplantMapMask($D339, $0A, $0A, $D30E, $11, $11)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A5B::
    TransplantMapMask($D341, $0A, $0A, $D316, $11, $19)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A68::
    TransplantMapMask($D349, $09, $0A, $D31E, $11, $21)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A75::
    TransplantMapMask($D492, $09, $09, $D467, $19, $02)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A82::
    TransplantMapMask($D499, $0A, $09, $D46E, $19, $09)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A8F::
    TransplantMapMask($D4A1, $0A, $09, $D476, $19, $11)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5A9C::
    TransplantMapMask($D4A9, $0A, $09, $D47E, $19, $19)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5AA9::
    TransplantMapMask($D4B1, $09, $09, $D486, $19, $21)
    LongJump(SCRIPT_0A_5AB6)

SCRIPT_0A_5AB6::
    SetScriptScroll(Actor_Null)
    ThatAI(0, AI_Hero)
    ThatScript(2, SCRIPT_ACTORSCRIPT0_0A_5465)
    StartSFX0(SFXID_EarthquakeEnd)
    End()

SCRIPT_0A_5AC6::
    StartSong(SONGID_Sanctuary)
    LongJump(Script_Weave_Puzzle1_First)

SCRIPT_0A_5ACC::
    StartSong(SONGID_Sanctuary)
    LongJump(Script_Weave_Puzzle2_First)

SCRIPT_0A_5AD2::
    StartSong(SONGID_Sanctuary)
    LongJump(Script_Weave_Puzzle3_First)

SCRIPT_0A_5AD8::
    StartSong(SONGID_Sanctuary)
    LongJump(Script_Weave_Puzzle4_First)

SCRIPT_0A_5ADE::
    StartSong(SONGID_Sanctuary)
    LongJump(Script_Weave_Puzzle5_First)

Script_Weave_Puzzle1_Complete::
    OrByte(xBits_Weave, %00000001)

SCRIPT_0A_5AE8::
    HeroToDoor($13, $02)
    LongJump(SCRIPT_09_6AED)

Script_Weave_Puzzle2_Complete::
    OrByte(xBits_Weave, %00000010)

SCRIPT_0A_5AF3::
    HeroToDoor($06, $02)
    LongJump(SCRIPT_09_6AED)

Script_Weave_Puzzle2_SecretComplete::
    LongJumpIf(#bitmatch(c[xBits_Secrets_1], c%00100000)#, SCRIPT_0A_5B1C)
    OrByte(xBits_Weave, %00000010)
    OrByte(xBits_Weave, %00100000)
    OrByte(xBits_Secrets_1, %00100000)
    LongJumpIf(#(c[xWandCrystalChoice] == c4)#, Script_Weave_Puzzle2_SecretComplete)
    LongJump(Script_Weave_SecretCompletedFirstTime)

SCRIPT_0A_5B1C::
    OrByte(xBits_Weave, %00000010)
    OrByte(xBits_Weave, %00100000)
    HeroToDoor($06, $02)
    LongJump(SCRIPT_09_6AED)

Script_Weave_Puzzle3_Complete::
    OrByte(xBits_Weave, %00000100)

SCRIPT_0A_5B2F::
    HeroToDoor($0B, $0A)
    LongJump(SCRIPT_09_6AED)

Script_Weave_Puzzle4_Complete::
    LongJumpIf(#bitmatch(c[xBits_Weave], c%00001000)#, SCRIPT_0A_5B49)
    OrByte(xBits_Weave, %00001000)
    HeroToDoor($09, $15)
    LongJump(Script_Weave_CompletedFirstTime)

SCRIPT_0A_5B49::
    HeroToDoor($09, $15)
    LongJump(SCRIPT_09_6AED)

Script_Weave_Puzzle5_Complete::
    LongJumpIf(#bitmatch(c[xBits_Weave], c%00010000)#, SCRIPT_0A_5B60)
    OrByte(xBits_Weave, %00010000)
    LongJump(SCRIPT_09_6BCE)

SCRIPT_0A_5B60::
    HeroToDoor($15, $13)
    LongJump(SCRIPT_09_6AED)

Script_Weave_Puzzle1_First::
    SetByte(xNumberOfAttempts, $01)

Script_Weave_Puzzle1_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Weave_Puzzle1)
    LoadHotspots(Hotspot_Weave_Puzzle1)
    ThatInit(0, AI_Hero, $0B, $0B, $D0E7, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $09, $05, $D06D, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(3, AI_InvisibleLaser, $09, $09, $D0BD, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(4, AI_InvisibleLaser, $09, $0D, $D10D, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(5, AI_InvisibleLaser, $05, $05, $D069, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(6, AI_InvisibleLaser, $05, $09, $D0B9, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(7, AI_InvisibleLaser, $05, $0D, $D109, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(8, AI_InvisibleLaser, $0D, $05, $D071, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(9, AI_InvisibleLaser, $0D, $09, $D0C1, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(10, AI_InvisibleLaser, $0D, $0D, $D111, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(11, AI_InvisibleLaser, $11, $05, $D075, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(18, AI_InvisibleLaser, $11, $09, $D0C5, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    ThatInit(19, AI_InvisibleLaser, $11, $0D, $D115, $00, Actor_Null, ACTORSCRIPT1_0A_5CA0)
    LoadSingleBitmap($04, BITMAP_19_4330, $8000, $00)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(8)
    ThatStart(9)
    ThatStart(10)
    ThatStart(11)
    ThatStart(18)
    ThatStart(19)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    AndByte(xBits_Puzzle_Bits1, %11111110)
    AndByte(xBits_Puzzle_Bits1, %11111101)
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_5C7B)
    End()

SCRIPT_STARTBUTTON_0A_5C7B::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_5D10, SCRIPT_0A_5AE8)
    End()

ACTORSCRIPT1_0A_5CA0::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_0A_5CD0)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_0A_5CE0)
        Case(1, SCRIPT_0A_5CEC)
        Case(2, SCRIPT_0A_5CF8)
        Case(3, SCRIPT_0A_5D04)
    }
    End()

ACTORSCRIPT0_0A_5CD0::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_0A_5D10)

SCRIPT_0A_5CDA::
    ThatDelete(0)
    LongJump(SCRIPT_0A_5D10)

SCRIPT_0A_5CE0::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_5D10)

SCRIPT_0A_5CEC::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_5D10)

SCRIPT_0A_5CF8::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_5D10)

SCRIPT_0A_5D04::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_5D10)

SCRIPT_0A_5D10::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_Weave_Puzzle1_Again)

Hotspot_Weave_Puzzle1_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00000001) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle1_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00000001) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle1_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xWeave_Puzzle1_HighScore])#, .HighscoreNew)
    FormatChar(xWeave_Puzzle1_HighScore)
    LongJumpIf(#(c[xWeave_Puzzle1_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Weave_Puzzle1_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Weave_Puzzle1_Complete)

.HighscoreNew::
    FormatChar(xWeave_Puzzle1_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xWeave_Puzzle1_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_Weave_Puzzle1_Complete)

Script_Weave_Puzzle2_First::
    SetByte(xNumberOfAttempts, $01)

Script_Weave_Puzzle2_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Weave_Puzzle2)
    LoadHotspots(Hotspot_Weave_Puzzle2)
    ThatInit(0, AI_Hero, $03, $0A, $D0DF, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $07, $02, $D033, $50, Actor_Null, ACTORSCRIPT1_0A_6065)
    ThatInit(9, AI_InvisibleLaser, $0F, $09, $D0D5, $50, Actor_Null, ACTORSCRIPT1_0A_6065)
    ThatInit(3, AI_Chicken, $05, $07, $D09F, $56, ACTORSCRIPT0_19_4829, ACTORSCRIPT1_19_5023)
    ThatInit(4, AI_01_70E1, $07, $08, $D0B7, $00, ACTORSCRIPT0_0A_60FE, ACTORSCRIPT1_0A_6110)
    ThatInit(5, AI_01_70E1, $04, $04, $D05C, $00, ACTORSCRIPT0_0A_60FE, ACTORSCRIPT1_0A_6110)
    ThatInit(6, AI_InvisibleLaser, $10, $01, $D026, $54, ACTORSCRIPT0_0A_5FCF, ACTORSCRIPT1_0A_5FF3)
    ThatInit(7, AI_InvisibleLaser, $11, $06, $D095, $54, ACTORSCRIPT0_0A_5FB9, ACTORSCRIPT1_0A_6019)
    ThatInit(8, AI_InvisibleLaser, $11, $0A, $D0ED, $54, ACTORSCRIPT0_0A_5FB9, ACTORSCRIPT1_0A_603F)
    LoadSingleBitmap($04, BITMAP_19_4330, $8500, $00)
    LoadSingleBitmap($02, BITMAP_19_4370, $8540, $00)
    LoadSingleBitmap($30, BITMAP_19_4030, $8560, $00)
    ThatStart(0)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(8)
    ThatStart(9)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $05)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_5F90)
    End()

SCRIPT_STARTBUTTON_0A_5F90::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_60D5, SCRIPT_0A_5AF3)
    End()

ACTORSCRIPT0_0A_5FB9::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75A4, 48)
        ScriptDelay(SCRIPT_11_75B8, 32)
        ScriptDelay(SCRIPT_11_75AE, 48)
        ScriptDelay(SCRIPT_11_759A, 32)
    }
    LongJump(ACTORSCRIPT0_0A_5FB9)

ACTORSCRIPT0_0A_5FCF::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75AE, 8)
        ScriptDelay(SCRIPT_11_75EA, 8)
        ScriptDelay(SCRIPT_11_75AE, 8)
    }

SCRIPT_0A_5FDD::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_759A, 32)
        ScriptDelay(SCRIPT_11_75A4, 48)
        ScriptDelay(SCRIPT_11_75B8, 32)
        ScriptDelay(SCRIPT_11_75AE, 48)
    }
    LongJump(SCRIPT_0A_5FDD)

ACTORSCRIPT1_0A_5FF3::
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00001000)#, SCRIPT_0A_609F)
    ThatInit(21, Call_001_4AF8, $00, $00, $D000, $54, SCRIPT_11_75EA, Actor_Null)
    ThatStart(21)
    ThisSpriteBase($50)
    ThatTeleportTo(21, 6)
    LongJump(ACTORSCRIPT1_0A_6065)

ACTORSCRIPT1_0A_6019::
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00001000)#, SCRIPT_0A_609F)
    ThatInit(21, Call_001_4AF8, $00, $00, $D000, $54, SCRIPT_11_75EA, Actor_Null)
    ThatStart(21)
    ThisSpriteBase($50)
    ThatTeleportTo(21, 7)
    LongJump(ACTORSCRIPT1_0A_6065)

ACTORSCRIPT1_0A_603F::
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00001000)#, SCRIPT_0A_609F)
    ThatInit(21, Call_001_4AF8, $00, $00, $D000, $54, SCRIPT_11_75EA, Actor_Null)
    ThatStart(21)
    ThisSpriteBase($50)
    ThatTeleportTo(21, 8)
    LongJump(ACTORSCRIPT1_0A_6065)

ACTORSCRIPT1_0A_6065::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_0A_6095)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_0A_60A5)
        Case(1, SCRIPT_0A_60B1)
        Case(2, SCRIPT_0A_60BD)
        Case(3, SCRIPT_0A_60C9)
    }
    End()

ACTORSCRIPT0_0A_6095::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_0A_60D5)

SCRIPT_0A_609F::
    ThatDelete(0)
    LongJump(SCRIPT_0A_60D5)

SCRIPT_0A_60A5::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_60D5)

SCRIPT_0A_60B1::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_60D5)

SCRIPT_0A_60BD::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_60D5)

SCRIPT_0A_60C9::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_60D5)

SCRIPT_0A_60D5::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_Weave_Puzzle2_Again)

ACTORSCRIPT0_0A_60FE::
    ThisWaitTile($FE)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00000100)#, Actor_Null)
    ThisDrawTile($00, $00, $00, COLLID_EMPTYBLOCK, $FD)
    ThisDelete()

ACTORSCRIPT1_0A_6110::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_0A_6095)
    End()

Hotspot_Weave_Puzzle2_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00000010) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle2_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00000010) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle2_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xWeave_Puzzle2_HighScore])#, .HighscoreNew)
    FormatChar(xWeave_Puzzle2_HighScore)
    LongJumpIf(#(c[xWeave_Puzzle2_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Weave_Puzzle2_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Weave_Puzzle2_Complete)

.HighscoreNew::
    FormatChar(xWeave_Puzzle2_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xWeave_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_Weave_Puzzle2_Complete)

Hotspot_Weave_Puzzle2_1::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠ça SECRET!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00000010) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle2_SecretComplete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00000010) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle2_SecretComplete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xWeave_Puzzle2_HighScore])#, .HighscoreNew)
    FormatChar(xWeave_Puzzle2_HighScore)
    LongJumpIf(#(c[xWeave_Puzzle2_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Weave_Puzzle2_SecretComplete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Weave_Puzzle2_SecretComplete)

.HighscoreNew::
    FormatChar(xWeave_Puzzle2_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xWeave_Puzzle2_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_Weave_Puzzle2_SecretComplete)

Script_Weave_Puzzle3_First::
    SetByte(xNumberOfAttempts, $01)

Script_Weave_Puzzle3_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Weave_Puzzle3)
    LoadBitmapSet(BITSET_2E_778B, PAL_2F_50C5)
    LoadHotspots(Hotspot_Weave_Puzzle3)
    ThatInit(0, AI_Hero, $02, $15, $D20F, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $13, $06, $D0A9, $50, Actor_Null, ACTORSCRIPT1_0A_6537)
    ThatInit(14, AI_Chicken, $03, $15, $D210, $54, ACTORSCRIPT0_19_4A7B, ACTORSCRIPT1_19_4A93)
    ThatInit(15, AI_Chicken, $0B, $15, $D218, $54, ACTORSCRIPT0_19_4BE5, ACTORSCRIPT1_19_4BFD)
    ThatInit(16, AI_Chicken, $04, $09, $D0E5, $54, ACTORSCRIPT0_19_4D4F, ACTORSCRIPT1_19_4D67)
    ThatInit(17, AI_Chicken, $15, $15, $D222, $54, ACTORSCRIPT0_19_4EB9, ACTORSCRIPT1_19_4ED1)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    LoadSingleBitmap($04, BITMAP_19_4330, $8500, $00)
    LoadSingleBitmap($30, BITMAP_19_4030, $8540, $00)
    ThatStart(0)
    ThatStart(2)
    ThatStart(14)
    ThatStart(15)
    ThatStart(16)
    ThatStart(17)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $05)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_64BD)
    End()

SCRIPT_STARTBUTTON_0A_64BD::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, SCRIPT_0A_64D4)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_64D4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, SCRIPT_0A_64E4)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_64E4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, SCRIPT_0A_64F4)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_64F4::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits5_Chicken_Ormagon], c%00000001)#, SCRIPT_0A_6504)
    ThatDrawTile(17, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_6504::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    ThatDelete(17)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_778B, PAL_2F_5105)
    PalRefresh(0, 16)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_65A7, SCRIPT_0A_5B2F)
    End()

ACTORSCRIPT1_0A_6537::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_0A_6567)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_0A_6577)
        Case(1, SCRIPT_0A_6583)
        Case(2, SCRIPT_0A_658F)
        Case(3, SCRIPT_0A_659B)
    }
    End()

ACTORSCRIPT0_0A_6567::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_0A_65A7)

SCRIPT_0A_6571::
    ThatDelete(0)
    LongJump(SCRIPT_0A_65A7)

SCRIPT_0A_6577::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_65A7)

SCRIPT_0A_6583::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_65A7)

SCRIPT_0A_658F::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_65A7)

SCRIPT_0A_659B::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_65A7)

SCRIPT_0A_65A7::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_Weave_Puzzle3_Again)

Hotspot_Weave_Puzzle3_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, SCRIPT_0A_65E8)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_65E8::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, SCRIPT_0A_65F8)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_65F8::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, SCRIPT_0A_6608)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_6608::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits5_Chicken_Ormagon], c%00000001)#, SCRIPT_0A_6618)
    ThatDrawTile(17, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_6618::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    ThatDelete(17)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_778B, PAL_2F_5105)
    PalRefresh(0, 16)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle3_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00000100) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle3_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xWeave_Puzzle3_HighScore])#, .HighscoreNew)
    FormatChar(xWeave_Puzzle3_HighScore)
    LongJumpIf(#(c[xWeave_Puzzle3_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Weave_Puzzle3_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Weave_Puzzle3_Complete)

.HighscoreNew::
    FormatChar(xWeave_Puzzle3_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xWeave_Puzzle3_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_Weave_Puzzle3_Complete)

Script_Weave_Puzzle4_First::
    SetByte(xNumberOfAttempts, $01)

Script_Weave_Puzzle4_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Weave_Puzzle4)
    LoadBitmapSet(BITSET_2E_778B, PAL_2F_50C5)
    LoadHotspots(Hotspot_Weave_Puzzle4)
    ThatInit(0, AI_Hero, $02, $02, $D034, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $08, $15, $D215, $50, Actor_Null, ACTORSCRIPT1_0A_68C2)
    ThatInit(14, AI_Chicken, $0F, $15, $D21C, $54, ACTORSCRIPT0_19_4A7B, ACTORSCRIPT1_19_4A93)
    ThatInit(15, AI_Chicken, $10, $0F, $D187, $54, ACTORSCRIPT0_19_4BE5, ACTORSCRIPT1_19_4BFD)
    ThatInit(16, AI_Chicken, $11, $15, $D21E, $54, ACTORSCRIPT0_19_4D4F, ACTORSCRIPT1_19_4D67)
    ThatInit(17, AI_Chicken, $04, $04, $D068, $54, ACTORSCRIPT0_19_4EB9, ACTORSCRIPT1_19_4ED1)
    LoadSingleBitmap($04, BITMAP_19_4330, $8500, $00)
    LoadSingleBitmap($30, BITMAP_19_4030, $8540, $00)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11111011)
    ThatStart(0)
    ThatStart(2)
    ThatStart(14)
    ThatStart(15)
    ThatStart(16)
    ThatStart(17)
    HeroSetCamera()
    SceneReady()
    SetByte(xHeroAbilities, $05)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_6848)
    End()

SCRIPT_STARTBUTTON_0A_6848::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, SCRIPT_0A_685F)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_685F::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, SCRIPT_0A_686F)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_686F::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, SCRIPT_0A_687F)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_687F::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits5_Chicken_Ormagon], c%00000001)#, SCRIPT_0A_688F)
    ThatDrawTile(17, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_688F::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    ThatDelete(17)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_778B, PAL_2F_5105)
    PalRefresh(0, 16)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_6932, SCRIPT_0A_5B49)
    End()

ACTORSCRIPT1_0A_68C2::
    SetByte(wScript_StartButtonDisabled, $01)
    StartSFX0(SFXID_PanPop)
    Pass()
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_0A_68F2)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_0A_6902)
        Case(1, SCRIPT_0A_690E)
        Case(2, SCRIPT_0A_691A)
        Case(3, SCRIPT_0A_6926)
    }
    End()

ACTORSCRIPT0_0A_68F2::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_0A_6932)

SCRIPT_0A_68FC::
    ThatDelete(0)
    LongJump(SCRIPT_0A_6932)

SCRIPT_0A_6902::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_6932)

SCRIPT_0A_690E::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_6932)

SCRIPT_0A_691A::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_6932)

SCRIPT_0A_6926::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_6932)

SCRIPT_0A_6932::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_Weave_Puzzle4_Again)

Hotspot_Weave_Puzzle4_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%00100000)#, SCRIPT_0A_6973)
    ThatDrawTile(14, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_6973::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%01000000)#, SCRIPT_0A_6983)
    ThatDrawTile(15, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_6983::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret], c%10000000)#, SCRIPT_0A_6993)
    ThatDrawTile(16, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_6993::
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits5_Chicken_Ormagon], c%00000001)#, SCRIPT_0A_69A3)
    ThatDrawTile(17, $00, $00, $00, COLLID_SPACE, $FD)

SCRIPT_0A_69A3::
    ThatDelete(14)
    ThatDelete(15)
    ThatDelete(16)
    ThatDelete(17)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00000100)
    LoadBitmapSet(BITSET_2E_778B, PAL_2F_5105)
    PalRefresh(0, 16)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle4_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00001000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle4_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xWeave_Puzzle4_HighScore])#, .HighscoreNew)
    FormatChar(xWeave_Puzzle4_HighScore)
    LongJumpIf(#(c[xWeave_Puzzle4_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Weave_Puzzle4_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Weave_Puzzle4_Complete)

.HighscoreNew::
    FormatChar(xWeave_Puzzle4_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xWeave_Puzzle4_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_Weave_Puzzle4_Complete)

Script_Weave_Puzzle5_First::
    SetByte(xNumberOfAttempts, $01)

Script_Weave_Puzzle5_Again::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Weave_Puzzle5)
    LoadHotspots(Hotspot_Weave_Puzzle5)
    ThatInit(0, AI_Hero, $01, $12, $D0EB, $00, ACTORSCRIPT0_14_5E57, Actor_RestoreState)
    ThatInit(2, AI_InvisibleLaser, $04, $0C, $D0A0, $04, ACTORSCRIPT0_0A_6BDC, ACTORSCRIPT1_0A_6C64)
    ThatInit(3, AI_InvisibleLaser, $09, $09, $D07E, $04, ACTORSCRIPT0_0A_6BF8, ACTORSCRIPT1_0A_6C8A)
    ThatInit(4, AI_InvisibleLaser, $04, $03, $D02B, $04, ACTORSCRIPT0_0A_6C14, ACTORSCRIPT1_0A_6CB0)
    ThatInit(5, AI_InvisibleLaser, $07, $0E, $D0BD, $04, ACTORSCRIPT0_0A_6C48, ACTORSCRIPT1_0A_6CD6)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    HeroSetCamera()
    LoadSingleBitmap($04, BITMAP_19_4330, $8000, $00)
    LoadSingleBitmap($02, BITMAP_19_4370, $8040, $00)
    SceneReady()
    SetByte(xHeroAbilities, $01)
    AndByte(xBits_Puzzle_Bits3, %11110111)
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_6BB7)
    End()

SCRIPT_STARTBUTTON_0A_6BB7::
    ResetActorList()
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    StartSFX0(SFXID_Jump)
    Icon(Icon_Salafy)
    Write(" Restart‚≠ç Exit")
    Menu(SCRIPT_0A_6D68, SCRIPT_0A_5B60)
    End()

ACTORSCRIPT0_0A_6BDC::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75A4, 48)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75B8, 32)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75AE, 48)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_759A, 32)
    }
    LongJump(ACTORSCRIPT0_0A_6BDC)

ACTORSCRIPT0_0A_6BF8::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_759A, 48)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75A4, 32)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75B8, 48)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75AE, 32)
    }
    LongJump(ACTORSCRIPT0_0A_6BF8)

ACTORSCRIPT0_0A_6C14::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75AE, 48)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75B8, 32)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75A4, 32)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_759A, 32)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75AE, 16)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_759A, 32)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75A4, 32)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75B8, 32)
    }
    LongJump(ACTORSCRIPT0_0A_6C14)

ACTORSCRIPT0_0A_6C48::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75AE, 96)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_759A, 32)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75A4, 96)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_75B8, 32)
    }
    LongJump(ACTORSCRIPT0_0A_6C48)

ACTORSCRIPT1_0A_6C64::
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00001000)#, SCRIPT_0A_6D32)
    ThatInit(21, Call_001_4AF8, $00, $00, $D000, $04, SCRIPT_11_75EA, Actor_Null)
    ThatStart(21)
    ThisSpriteBase($00)
    ThatTeleportTo(21, 2)
    LongJump(SCRIPT_0A_6CF8)

ACTORSCRIPT1_0A_6C8A::
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00001000)#, SCRIPT_0A_6D32)
    ThatInit(21, Call_001_4AF8, $00, $00, $D000, $04, SCRIPT_11_75EA, Actor_Null)
    ThatStart(21)
    ThisSpriteBase($00)
    ThatTeleportTo(21, 3)
    LongJump(SCRIPT_0A_6CF8)

ACTORSCRIPT1_0A_6CB0::
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00001000)#, SCRIPT_0A_6D32)
    ThatInit(21, Call_001_4AF8, $00, $00, $D000, $04, SCRIPT_11_75EA, Actor_Null)
    ThatStart(21)
    ThisSpriteBase($00)
    ThatTeleportTo(21, 4)
    LongJump(SCRIPT_0A_6CF8)

ACTORSCRIPT1_0A_6CD6::
    SetByte(wScript_StartButtonDisabled, $01)
    LongJumpIf(#bitmatch(c[xBits_Puzzle_Bits3], c%00001000)#, SCRIPT_0A_6D32)
    ThatInit(21, Call_001_4AF8, $00, $00, $D000, $04, SCRIPT_11_75EA, Actor_Null)
    ThatStart(21)
    ThisSpriteBase($00)
    ThatTeleportTo(21, 5)

SCRIPT_0A_6CF8::
    SetByte(wScript_StartButtonDisabled, $01)
    Pass()
    StartSFX0(SFXID_PanPop)
    LoadSpritePalette(PAL8_14_7898)
    PalRefresh(0, 16)
    ThatAI(0, Call_001_4AF8)
    ThatScript(0, ACTORSCRIPT0_0A_6D28)
    Switch(#c[MATHADDRESS_00_C9D8]#) {
        Case(0, SCRIPT_0A_6D38)
        Case(1, SCRIPT_0A_6D44)
        Case(2, SCRIPT_0A_6D50)
        Case(3, SCRIPT_0A_6D5C)
    }
    End()

ACTORSCRIPT0_0A_6D28::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_60E5, 32)
    }
    LongJump(SCRIPT_0A_6D68)

SCRIPT_0A_6D32::
    ThatDelete(0)
    LongJump(SCRIPT_0A_6D68)

SCRIPT_0A_6D38::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74CF, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_6D68)

SCRIPT_0A_6D44::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_7498, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_6D68)

SCRIPT_0A_6D50::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_74A2, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_6D68)

SCRIPT_0A_6D5C::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_748E, 32)
    }
    ThatDelete(0)
    LongJump(SCRIPT_0A_6D68)

SCRIPT_0A_6D68::
    ThisSetAnimSingle(Actor_Null)
    StartSFX0(SFXID_DarkAttack)
    Delay(16)
    PalClearBase(0, 16, $00, $00, $00, 255)
    PalFadeAnimToBase(1, $20, 0, 7)
    PalFadeAnimToBase(1, $20, 7, 9)
    LongJumpIf(#(c[xNumberOfAttempts] > c254)#, .MaxFailedAttempts)
    VarByteExpr(xNumberOfAttempts, #(c[xNumberOfAttempts] + c1)#)

.MaxFailedAttempts::
    LongJump(Script_Weave_Puzzle5_Again)

Hotspot_Weave_Puzzle5_0::
    StartSong(SONGID_GetItem)
    SetByte(wScript_StartButtonDisabled, $01)
    ThatDelete(0)
    Write("You found‚≠çthe exit!üÖê")
    LongJumpIf(#(c[xNumberOfAttempts] == c255)#, .MaxAttempts)
    FormatChar(xNumberOfAttempts)
    Write("It took you‚≠çüîä attempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00010000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle5_Complete)

.MaxAttempts::
    Write("It took you‚≠çmore than 255üÖêattempts.üÖê")
    LongJumpIf(#(bitmatch(c[xBits_Weave], c%00010000) != c0)#, .HighScore)
    Close()
    VarByteExpr(xWeave_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    LongJump(Script_Weave_Puzzle5_Complete)

.HighScore::
    LongJumpIf(#(c[xNumberOfAttempts] < c[xWeave_Puzzle5_HighScore])#, .HighscoreNew)
    FormatChar(xWeave_Puzzle5_HighScore)
    LongJumpIf(#(c[xWeave_Puzzle5_HighScore] == c1)#, .Highscore1)
    Write("The current‚≠çHigh Score isüÖêüîä attempts.üÖê")
    Close()
    LongJump(Script_Weave_Puzzle5_Complete)

.Highscore1::
    Write("The current‚≠çHigh Score isüÖêan unbeatable‚≠ç1 attempt!üÖê")
    Close()
    LongJump(Script_Weave_Puzzle5_Complete)

.HighscoreNew::
    FormatChar(xWeave_Puzzle5_HighScore)
    Write("‚≠çWell done!!‚≠çYou have set aüÖênew High Score!üÖêThe previous‚≠çHigh Score wasüÖêüîä attempts.üÖê")
    Close()
    VarByteExpr(xWeave_Puzzle5_HighScore, #c[xNumberOfAttempts]#)
    Close()
    LongJump(Script_Weave_Puzzle5_Complete)

SCRIPT_0A_6F0C::
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00001000)
    OrByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %00010000)
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Underneath_Puzzle1_Demo)
    ThatInit(0, Call_001_4AF8, $09, $10, $D0C9, $00, ACTORSCRIPT0_0A_700D, Actor_RestoreState)
    ThatInit(3, Call_001_4AF8, $06, $11, $D0D2, $00, ACTORSCRIPT0_0A_6FC7, Actor_RestoreState)
    ThatInit(4, Call_001_4AF8, $01, $0F, $D0B5, $00, ACTORSCRIPT0_0A_6FE5, Actor_RestoreState)
    ThatInit(5, Call_001_4AF8, $06, $0B, $D08A, $00, ACTORSCRIPT0_0A_7003, Actor_RestoreState)
    ThatInit(6, Call_001_4AF8, $08, $0C, $D098, $00, ACTORSCRIPT0_0A_7008, Actor_RestoreState)
    ThatInit(7, Call_001_4AF8, $09, $05, $D045, $00, ACTORSCRIPT0_11_75F4, Actor_RestoreState)
    ThatInit(8, Call_001_4AF8, $03, $06, $D04B, $00, ACTORSCRIPT0_11_75F4, Actor_RestoreState)
    OverlayInit(RAM_00_C2CD, $50, $5C, $20, SCRIPT_ACTORSCRIPT0_0A_73FD)
    ThatStart(0)
    ThatStart(3)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(12)
    LoadSingleBitmap($20, BITMAP_19_43E0, $8000, $00)
    LoadSingleBitmap($07, BITMAP_0C_40C0, $8200, $00)
    HeroSetCamera()
    SceneReady()
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_6FBC)
    End()

SCRIPT_STARTBUTTON_0A_6FBC::
    SetByte(RAM_00_C734, $00)
    HeroToDoor($06, $13)
    LongJump(Script_StartRoom)

ACTORSCRIPT0_0A_6FC7::
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    Sync(0, 2)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT0_11_75F4, 4)
        ScriptDelay(SCRIPT_11_769C, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_76C3, 24)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    End()

ACTORSCRIPT0_0A_6FE5::
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    Sync(1, 2)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT0_11_75F4, 4)
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    End()

ACTORSCRIPT0_0A_7003::
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    End()

ACTORSCRIPT0_0A_7008::
    ThisSetAnimSingle(ACTORSCRIPT0_11_75F4)
    End()

ACTORSCRIPT0_0A_700D::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5DAB, 32)
        ScriptDelay(SCRIPT_14_5DA1, 32)
        ScriptDelay(SCRIPT_14_5D27, 8)
        ScriptDelay(SCRIPT_14_5CFD, 16)
        ScriptDelay(SCRIPT_14_5D27, 8)
        ScriptDelay(SCRIPT_14_5DA1, 16)
    }
    Sync(0, 2)
    ThisSetAnimScroll() {
        ScriptScroll(SCRIPT_14_5D27, 16, -2, 0)
    }
    Sync(1, 2)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5D0D, 16)
    }
    ThisSetAnimScroll() {
        ScriptScroll(SCRIPT_14_5D27, 24, -2, 0)
        ScriptScroll(SCRIPT_14_5CFD, 16, 0, -2)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5D97, 32)
        ScriptDelay(ACTORSCRIPT1_14_5DDD, 32)
        ScriptDelay(SCRIPT_14_5DB5, 32)
        ScriptDelay(SCRIPT_14_5D97, 32)
    }
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadScene(Scene_Cald_Puzzle4_Demo)
    LoadSpritePalette(Pal_AllSprites)
    ThatInit(0, Call_001_4AF8, $01, $17, $D240, $00, ACTORSCRIPT0_0A_7105, Actor_RestoreState)
    ThatInit(4, AI_01_70E1, $04, $17, $D243, $00, ACTORSCRIPT0_0A_715D, ACTORSCRIPT1_18_7C5D)
    ThatInit(5, AI_01_70E1, $05, $17, $D244, $00, ACTORSCRIPT0_11_778A, ACTORSCRIPT1_18_7C5D)
    ThatInit(6, AI_01_70E1, $09, $10, $D199, $00, ACTORSCRIPT0_11_778A, ACTORSCRIPT1_18_7C5D)
    ThatInit(7, AI_01_70E1, $09, $12, $D1CB, $00, ACTORSCRIPT0_11_778A, ACTORSCRIPT1_18_7C5D)
    ThatInit(8, AI_01_70E1, $02, $0E, $D160, $00, ACTORSCRIPT0_11_778A, ACTORSCRIPT1_18_7C5D)
    OverlayInit(RAM_00_C2CD, $50, $5C, $20, SCRIPT_ACTORSCRIPT0_0A_73FD)
    ThatStart(0)
    ThatStart(4)
    ThatStart(5)
    ThatStart(6)
    ThatStart(7)
    ThatStart(8)
    ThatStart(12)
    LoadSingleBitmap($0B, BITMAP_19_45E0, $8000, $00)
    LoadSingleBitmap($07, BITMAP_0C_40C0, $8200, $00)
    HeroSetCamera()
    SceneReady()
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_70FA)
    Sync(2, 3)
    LongJump(SCRIPT_19_475F)

SCRIPT_STARTBUTTON_0A_70FA::
    SetByte(RAM_00_C734, $00)
    HeroToDoor($06, $13)
    LongJump(Script_StartRoom)

ACTORSCRIPT0_0A_7105::
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5DA1, 32)
        ScriptDelay(SCRIPT_14_5CFD, 16)
        ScriptDelay(SCRIPT_14_5DB5, 32)
        ScriptDelay(ACTORSCRIPT1_14_5DDD, 32)
        ScriptDelay(SCRIPT_14_5D0D, 16)
        ScriptDelay(SCRIPT_14_5D41, 3)
    }
    Sync(0, 2)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5CFD, 18)
        ScriptDelay(SCRIPT_14_5DB5, 32)
        ScriptDelay(SCRIPT_14_5D97, 32)
        ScriptDelay(SCRIPT_14_5DB5, 32)
        ScriptDelay(SCRIPT_14_5DC9, 32)
    }
    Sync(1, 2)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5D0D, 18)
        ScriptDelay(SCRIPT_14_5D41, 16)
        ScriptDelay(SCRIPT_14_5CFD, 8)
        ScriptDelay(SCRIPT_14_5D41, 8)
        ScriptDelay(SCRIPT_14_5CFD, 16)
        ScriptDelay(SCRIPT_14_5D97, 32)
        ScriptDelay(SCRIPT_14_5DB5, 32)
    }
    Sync(2, 3)
    End()

ACTORSCRIPT0_0A_715D::
    ThisSetAnimSingle(ACTORSCRIPT0_11_778A)
    Sync(0, 2)
    TransplantTile($16, $02, $D228, COLLID_HS01, $FB)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_781E, 32)
        ScriptDelay(ACTORSCRIPT0_11_778A, 16)
        ScriptDelay(SCRIPT_11_77DE, 64)
        ScriptDelay(ACTORSCRIPT0_11_778A, 0)
    }
    TransplantTile($16, $02, $D228, COLLID_HS01, $FA)
    Sync(1, 2)
    TransplantTile($16, $02, $D228, COLLID_HS01, $FB)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_11_781E, 32)
        ScriptDelay(ACTORSCRIPT0_11_778A, 16)
        ScriptDelay(SCRIPT_11_77DE, 64)
        ScriptDelay(ACTORSCRIPT0_11_778A, 0)
    }
    TransplantTile($16, $02, $D228, COLLID_HS01, $FA)
    Sync(2, 3)
    End()

SCRIPT_0A_71AB::
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    AndByte(xBits_Puzzle_Bits4_Chicken_Demo_Hole_Turret, %11101111)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Paradwyn_Main_Demo)
    ThatInit(0, Call_001_4AF8, $0E, $04, $D086, $00, ACTORSCRIPT0_0A_7228, Actor_RestoreState)
    ThatInit(2, Call_001_4AF8, $0A, $09, $D118, $00, ACTORSCRIPT0_0A_7271, Actor_RestoreState)
    ThatInit(3, Call_001_4AF8, $0C, $09, $D11A, $30, ACTORSCRIPT0_0A_729C, Actor_RestoreState)
    OverlayInit(RAM_00_C2CD, $50, $5C, $60, SCRIPT_ACTORSCRIPT0_0A_73FD)
    LoadSingleBitmap($30, BITMAP_0D_40A0, $8000, $00)
    LoadSingleBitmap($30, BITMAP_0D_43D0, $8300, $00)
    LoadSingleBitmap($07, BITMAP_0C_40C0, $8600, $00)
    ThatStart(0)
    ThatStart(2)
    ThatStart(3)
    ThatStart(12)
    HeroSetCamera()
    SceneReady()
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_721D)
    End()

SCRIPT_STARTBUTTON_0A_721D::
    SetByte(RAM_00_C734, $00)
    HeroToDoor($06, $13)
    LongJump(Script_StartRoom)

ACTORSCRIPT0_0A_7228::
    ThisSetAnimScroll() {
        ScriptScroll(SCRIPT_14_5C4D, 32, 0, 1)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5DA1, 32)
        ScriptDelay(SCRIPT_14_5C6D, 32)
        ScriptDelay(SCRIPT_14_5C4D, 16)
        ScriptDelay(SCRIPT_14_5DA1, 0)
    }
    Sync(0, 3)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5DA1, 80)
        ScriptDelay(ACTORSCRIPT0_14_5DBF, 2)
        ScriptDelay(SCRIPT_14_5DAB, 64)
        ScriptDelay(ACTORSCRIPT0_14_5DBF, 2)
        ScriptDelay(SCRIPT_14_5DA1, 16)
    }
    Sync(1, 3)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5DA1, 16)
        ScriptDelay(ACTORSCRIPT0_14_5DBF, 24)
        ScriptDelay(SCRIPT_14_5DA1, 16)
        ScriptDelay(SCRIPT_14_5C4D, 48)
    }
    End()

ACTORSCRIPT0_0A_7271::
    ThisSetAnimSingle(SCRIPT_13_6D3E)
    Sync(0, 3)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_13_6D52, 32)
        ScriptDelay(SCRIPT_13_6CA0, 32)
        ScriptDelay(ACTORSCRIPT1_13_6D52, 2)
        ScriptDelay(SCRIPT_13_6D3E, 0)
    }
    Sync(1, 3)
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT1_13_6D66, 56)
        ScriptDelay(SCRIPT_13_6CD0, 32)
        ScriptDelay(SCRIPT_13_6CB0, 32)
    }
    End()

ACTORSCRIPT0_0A_729C::
    ThisSetAnimSingle(SCRIPT_15_786E)
    Sync(0, 3)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_15_7882, 2)
        ScriptDelay(SCRIPT_15_785A, 80)
        ScriptDelay(SCRIPT_15_7882, 64)
        ScriptDelay(SCRIPT_15_785A, 32)
    }
    Sync(1, 3)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_15_7882, 2)
        ScriptDelay(SCRIPT_15_77FA, 24)
        ScriptDelay(SCRIPT_15_788C, 32)
        ScriptDelay(SCRIPT_15_7878, 32)
        ScriptDelay(ACTORSCRIPT1_15_78A0, 32)
        ScriptDelay(SCRIPT_15_780A, 24)
        ScriptDelay(SCRIPT_15_77EA, 24)
    }
    SceneNew()
    SetByte(wScript_StartButtonDisabled, $00)
    SetByte(wScript_TransplantTileDisabled, $00)
    LoadSpritePalette(Pal_AllSprites)
    LoadScene(Scene_Bograth_Puzzle3_Demo)
    ThatInit(0, Call_001_4AF8, $14, $05, $D087, $00, ACTORSCRIPT0_0A_7378, Actor_RestoreState)
    ThatInit(6, Call_001_4AF8, $13, $02, $D041, $00, ACTORSCRIPT0_11_75F4, Actor_RestoreState)
    ThatInit(7, Call_001_4AF8, $15, $03, $D05A, $00, ACTORSCRIPT0_11_75F4, Actor_RestoreState)
    ThatInit(8, Call_001_4AF8, $10, $05, $D083, $00, ACTORSCRIPT0_11_75F4, Actor_RestoreState)
    ThatInit(9, Call_001_4AF8, $11, $06, $D09B, $00, ACTORSCRIPT0_11_75F4, Actor_RestoreState)
    ThatInit(11, Call_001_4AF8, $06, $0A, $D0EC, $00, ACTORSCRIPT0_0A_73D6, Actor_RestoreState)
    OverlayInit(RAM_00_C2CD, $50, $5C, $60, SCRIPT_ACTORSCRIPT0_0A_73FD)
    ThatStart(0)
    ThatStart(6)
    ThatStart(7)
    ThatStart(8)
    ThatStart(9)
    ThatStart(12)
    LoadSingleBitmap($20, BITMAP_19_43E0, $8000, $00)
    LoadSingleBitmap($07, BITMAP_0C_40C0, $8600, $00)
    HeroSetCamera()
    SceneReady()
    SetStartButtonScript(SCRIPT_STARTBUTTON_0A_736D)
    End()

SCRIPT_STARTBUTTON_0A_736D::
    SetByte(RAM_00_C734, $00)
    HeroToDoor($06, $13)
    LongJump(Script_StartRoom)

ACTORSCRIPT0_0A_7378::
    ThisSetAnimScroll() {
        ScriptScroll(SCRIPT_14_5D0D, 24, 0, 2)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5D27, 16)
    }
    ThisSetAnimScroll() {
        ScriptScroll(SCRIPT_14_5D0D, 8, 0, 2)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5D27, 8)
    }
    ThisSetAnimScroll() {
        ScriptScroll(SCRIPT_14_5D0D, 8, 0, 2)
    }
    ThisSetAnimScroll() {
        ScriptScroll(SCRIPT_14_5D27, 16, -2, 0)
        ScriptScroll(SCRIPT_14_5D0D, 8, 0, 2)
        ScriptScroll(SCRIPT_14_5D27, 32, -2, 0)
    }
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5DAB, 32)
    }
    ThatStart(11)
    ThisSetAnimDelay() {
        ScriptDelay(SCRIPT_14_5CFD, 8)
        ScriptDelay(SCRIPT_14_5D0D, 8)
        ScriptDelay(SCRIPT_14_5DAB, 124)
        ScriptDelay(SCRIPT_14_5CFD, 8)
        ScriptDelay(SCRIPT_14_5D0D, 8)
        ScriptDelay(SCRIPT_14_5DAB, 40)
    }
    LongJump(SCRIPT_19_475F)

ACTORSCRIPT0_0A_73D6::
    ThisSetAnimDelay() {
        ScriptDelay(ACTORSCRIPT0_11_75F4, 4)
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 40)
        ScriptDelay(SCRIPT_11_764E, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 24)
        ScriptDelay(SCRIPT_11_7675, 40)
        ScriptDelay(ACTORSCRIPT0_11_75F4, 0)
    }
    End()

SCRIPT_ACTORSCRIPT0_0A_73FD::
    Delay(16)
    ThisSetAnimSingle(ACTORSCRIPT1_11_7194)
    Delay(16)
    ThisSetAnimSingle(Actor_Null)
    Delay(16)
    ThisSetAnimSingle(ACTORSCRIPT1_11_7194)
    LongJump(SCRIPT_ACTORSCRIPT0_0A_73FD)